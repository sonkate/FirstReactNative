{"mode":"block","xmlText":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"0@x!47O]pN%^.^.=oGgP\">thông tin</variable><variable id=\"?6wUd+`%,M5dcQI5TC(+\">Fan</variable><variable id=\"Ek**kj{enIW.XxmBU_~D\">Door</variable><variable id=\"Ssq_K/{HV,x}:FWAl_]-\">Func1</variable><variable id=\"x3cLAv$PH.V=d)Spx)$I\">AutoFan</variable><variable id=\"YZ_@p,jb@j7;$Vj*RMNr\">Func2</variable><variable id=\"d)A5P*-yyN^tOZ(jr#3`\">AutoLight</variable><variable id=\"[y|D[B0B*zmrLgf]AcO*\">Func3</variable><variable id=\"vTrJe6Pg)tQ#,!b[nMpr\">AutoPeople</variable></variables><block type=\"yolobit_basic_forever\" id=\"^I-:e,4fVbsSw41gZM.{\" x=\"-1063\" y=\"-438\"><statement name=\"ONSTART\"><block type=\"yolobit_basic_scroll_text\" id=\"z,OZ%)h8_.7%(v.cpM0~\"><value name=\"message\"><shadow type=\"text\" id=\"nqu=aoaj{CyV;Xt`1r9)\"><field name=\"TEXT\">AIOT</field></shadow></value><next><block type=\"yolobit_mqtt_connect_wifi\" id=\"f-jjU=/_k2s?_j$mwNKy\"><value name=\"WIFI\"><shadow type=\"text\" id=\"D||T@N`e5e2r|HC*[?HE\"><field name=\"TEXT\">Android6666</field></shadow></value><value name=\"PASSWORD\"><shadow type=\"text\" id=\"i(,$7g`C!0ohy4;[4`7S\"><field name=\"TEXT\">12345678</field></shadow></value><next><block type=\"yolobit_mqtt_connect_default_servers\" id=\"X-9iT*4Q4N/(OvV4pr6r\"><field name=\"SERVER\">io.adafruit.com</field><value name=\"USERNAME\"><shadow type=\"text\" id=\"r#?x8woePd,*mM!{oW{(\"><field name=\"TEXT\">HarryHaha</field></shadow></value><value name=\"KEY\"><shadow type=\"text\" id=\"im^~R$%ONUym7K-DewRJ\"><field name=\"TEXT\">aio_wHPt23RGoOQoK8MD32FJcfhbXWiS</field></shadow></value><next><block type=\"set_time\" id=\".B+L;+{B5aG=VYaD}0SG\"><field name=\"GMT\">+7</field><next><block type=\"variables_set\" id=\"[#*k38-whd^~QRqp3[Jo\"><field name=\"VAR\" id=\"x3cLAv$PH.V=d)Spx)$I\">AutoFan</field><value name=\"VALUE\"><block type=\"text\" id=\"+UW8(T|=V{_/k/3ZDn!@\"><field name=\"TEXT\">0</field></block></value><next><block type=\"variables_set\" id=\"qjf~KP-=Yt|Z63$k?Z=e\"><field name=\"VAR\" id=\"d)A5P*-yyN^tOZ(jr#3`\">AutoLight</field><value name=\"VALUE\"><block type=\"text\" id=\"NcYhEX`U_}7!6BySJ8~d\"><field name=\"TEXT\">0</field></block></value><next><block type=\"variables_set\" id=\"@F[-ocg#:Aw!xJbw:X}m\"><field name=\"VAR\" id=\"vTrJe6Pg)tQ#,!b[nMpr\">AutoPeople</field><value name=\"VALUE\"><block type=\"text\" id=\"m;-ayMg5uk!%pRGa,lx!\"><field name=\"TEXT\">0</field></block></value><next><block type=\"aiot_ultrasonic_create\" id=\"r^w5N(|yl%{eX*{y[|cN\"><field name=\"TRG\">pin10</field><field name=\"ECH\">pin13</field><next><block type=\"yolobit_basic_scroll_text\" id=\"p==N^Vx=U(kaaAu7Tm:Y\"><value name=\"message\"><shadow type=\"text\" id=\"c1q4,J,9|f)w1}rkqZ7=\"><field name=\"TEXT\">OK</field></shadow></value><next><block type=\"procedures_callnoreturn\" id=\"_ak*1fRzve)Q@Hd?%%TV\"><mutation name=\"DangKyServer\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><statement name=\"FOREVER\"><block type=\"yolobit_mqtt_check_message\" id=\"Q#NPi@sPN8p?q.A=nXJ.\"><next><block type=\"yolobit_events_run\" id=\"CtZ=$mHpg@0smZhP`RFu\"><next><block type=\"yolobit_basic_sleep\" id=\"*xFTbI5,N-8d7i]EQy.2\"><value name=\"duration\"><shadow type=\"math_number\" id=\"oo}(TOg_bHtPu(gnoV8:\"><field name=\"NUM\">5000</field></shadow></value></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"a]Uybtg=+%dm7,o3(zh_\" x=\"-337\" y=\"-263\"><field name=\"NAME\">DangKyServer</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"yolobit_mqtt_on_receive_message\" id=\"}H}2Rdt08S[7@NFCQR%g\"><field name=\"message\" id=\"0@x!47O]pN%^.^.=oGgP\">thông tin</field><value name=\"TOPIC\"><shadow type=\"text\" id=\"=W7y80A!x~f|byuK`#9!\"><field name=\"TEXT\">button-light</field></shadow></value><statement name=\"ACTION\"><block type=\"controls_if\" id=\"gU-A_4~:P4E{hbTjCuY~\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"3~NF/gK;stp%LR?;K{(g\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"x`GMBhbVMd`JxiKa-jaJ\"><field name=\"VAR\" id=\"0@x!47O]pN%^.^.=oGgP\">thông tin</field></block></value><value name=\"B\"><block type=\"text\" id=\"ZdHH3W$%Sl?uQ#|s]WKc\"><field name=\"TEXT\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"aiot_led_tiny_set_all\" id=\"A[ZZ6?SIc`h4zmMrnwhh\"><field name=\"port\">pin14</field><field name=\"option\">0</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"^#+^2KR~9Py{BcB0yB$p\"><field name=\"COLOUR\">#ffffff</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"aiot_led_tiny_set_all\" id=\")ErL|6nCyPselkaeUcLN\"><field name=\"port\">pin14</field><field name=\"option\">0</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"Znzmt~Bj0Ye*|w(cym]1\"><field name=\"COLOUR\">#000000</field></shadow></value></block></statement></block></statement><next><block type=\"yolobit_mqtt_on_receive_message\" id=\"V.%H!(:rhWLG$rV4}nGK\"><field name=\"message\" id=\"?6wUd+`%,M5dcQI5TC(+\">Fan</field><value name=\"TOPIC\"><shadow type=\"text\" id=\";lw:_mPubW~/?W~8:yMV\"><field name=\"TEXT\">button-fan</field></shadow></value><statement name=\"ACTION\"><block type=\"controls_if\" id=\"jec.kJo~N%Qdcs;ZznQG\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"R3Iv$ulh]948+kKJZi=-\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"sYcqlVUNvT@Ig;[l@a^3\"><field name=\"VAR\" id=\"?6wUd+`%,M5dcQI5TC(+\">Fan</field></block></value><value name=\"B\"><block type=\"text\" id=\"NrbvVrP+*KQoAC0~Bkmo\"><field name=\"TEXT\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"aiot_minifan\" id=\"xSH5p],?(W2LY+ecxH)m\"><field name=\"NAME\">pin3</field><value name=\"percent\"><shadow type=\"math_number\" id=\";auW+hHPH@uX`I19{th^\"><field name=\"NUM\">70</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"aiot_minifan\" id=\"wImf/[TB#,(63p.mX^ya\"><field name=\"NAME\">pin3</field><value name=\"percent\"><shadow type=\"math_number\" id=\"FcR{=#-vc^C[?Xb_(6GE\"><field name=\"NUM\">0</field></shadow></value></block></statement></block></statement><next><block type=\"yolobit_mqtt_on_receive_message\" id=\"pX4:wANZa9+OT6l0+QfL\"><field name=\"message\" id=\"Ek**kj{enIW.XxmBU_~D\">Door</field><value name=\"TOPIC\"><shadow type=\"text\" id=\"c38;%rVO(%@XqK5R|1!d\"><field name=\"TEXT\">door</field></shadow></value><statement name=\"ACTION\"><block type=\"controls_if\" id=\"}Z)M@*v}6Rci+YMD.S}M\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"J|e;V?vJ{D$1S-c4NdL:\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"LRRpkE*IpEJ40R[qFybs\"><field name=\"VAR\" id=\"Ek**kj{enIW.XxmBU_~D\">Door</field></block></value><value name=\"B\"><block type=\"text\" id=\"e-OhqkH,X/v.Zxek/Q/)\"><field name=\"TEXT\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"yolobit_pin_servo_write_angle\" id=\"JsJ~`2~`9!X8L-yE(wI5\"><field name=\"pin\">6</field><value name=\"angle\"><shadow type=\"math_number\" id=\"f998C9kqf^9s|oX9|Y|h\"><field name=\"NUM\">90</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"yolobit_pin_servo_write_angle\" id=\"b-?Oo!]WUfc3%s/{cL$}\"><field name=\"pin\">6</field><value name=\"angle\"><shadow type=\"math_number\" id=\"DoIf!:VZ[G:vm?N4qwRz\"><field name=\"NUM\">0</field></shadow></value></block></statement></block></statement><next><block type=\"yolobit_mqtt_on_receive_message\" id=\"JQvZ@mMEv%0qfjf*nc2V\"><field name=\"message\" id=\"Ssq_K/{HV,x}:FWAl_]-\">Func1</field><value name=\"TOPIC\"><shadow type=\"text\" id=\"t{*GEJdEfd~pqHs`l$6w\"><field name=\"TEXT\">auto1</field></shadow></value><statement name=\"ACTION\"><block type=\"controls_if\" id=\"HF3Ei})v*Z6UZHHwfdTA\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"tIYCZ.7iQ)~p%`y^vGCQ\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"t72WuKHXDHDYqih5c#i~\"><field name=\"VAR\" id=\"Ssq_K/{HV,x}:FWAl_]-\">Func1</field></block></value><value name=\"B\"><block type=\"text\" id=\"J??f8{U7M8Nh4pX95`FA\"><field name=\"TEXT\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"(UZ_|/f_hQApQa[kHSRs\"><field name=\"VAR\" id=\"d)A5P*-yyN^tOZ(jr#3`\">AutoLight</field><value name=\"VALUE\"><block type=\"text\" id=\"rhus5/b`YXZ7dE%2?:KB\"><field name=\"TEXT\">1</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"variables_set\" id=\"o{mIz+4/RHHpj9o]/!bV\"><field name=\"VAR\" id=\"d)A5P*-yyN^tOZ(jr#3`\">AutoLight</field><value name=\"VALUE\"><block type=\"text\" id=\"kGS|H{AJKZvJ}@J%3E`y\"><field name=\"TEXT\">0</field></block></value></block></statement></block></statement><next><block type=\"yolobit_mqtt_on_receive_message\" id=\"VYa5FSNgvsr8=Sr}$ay+\"><field name=\"message\" id=\"YZ_@p,jb@j7;$Vj*RMNr\">Func2</field><value name=\"TOPIC\"><shadow type=\"text\" id=\"w|(GV54QnG|UesQ$-6v2\"><field name=\"TEXT\">auto2</field></shadow></value><statement name=\"ACTION\"><block type=\"controls_if\" id=\"K[KcqOmD*xQPdKz6Nes-\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"M)^Pbu(hN1xECgDD-(Ry\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"mAhQyJd@:SeQ}usH4a~q\"><field name=\"VAR\" id=\"YZ_@p,jb@j7;$Vj*RMNr\">Func2</field></block></value><value name=\"B\"><block type=\"text\" id=\"#wMq6}6u7X1-vEp?f[z6\"><field name=\"TEXT\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"s2Vnbu=AOWbo:x}5:y8N\"><field name=\"VAR\" id=\"x3cLAv$PH.V=d)Spx)$I\">AutoFan</field><value name=\"VALUE\"><block type=\"text\" id=\"@S2kH_3ATrEw.xwFR;Mv\"><field name=\"TEXT\">1</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"variables_set\" id=\"U;Ow_@.)cn[{U9q0g@F?\"><field name=\"VAR\" id=\"x3cLAv$PH.V=d)Spx)$I\">AutoFan</field><value name=\"VALUE\"><block type=\"text\" id=\"+C-vfNV(HXLnA.jP/uDu\"><field name=\"TEXT\">0</field></block></value></block></statement></block></statement><next><block type=\"yolobit_mqtt_on_receive_message\" id=\"ef_1]Pn2.RG}{*w$IZoy\"><field name=\"message\" id=\"[y|D[B0B*zmrLgf]AcO*\">Func3</field><value name=\"TOPIC\"><shadow type=\"text\" id=\"_kpW~(m20g|**/!]Wlsf\"><field name=\"TEXT\">auto3</field></shadow></value><statement name=\"ACTION\"><block type=\"controls_if\" id=\"U6K+~v:GD![K+@WvRr}{\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"/sLU)z|KHpM^Z}UU~4:,\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"XlW7J$6(z+Jxl:qx/T,@\"><field name=\"VAR\" id=\"[y|D[B0B*zmrLgf]AcO*\">Func3</field></block></value><value name=\"B\"><block type=\"text\" id=\"[d5r5E9I{,=*2c[Fh}Ro\"><field name=\"TEXT\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"ci_*oS$elJ$+t0[bWd*J\"><field name=\"VAR\" id=\"vTrJe6Pg)tQ#,!b[nMpr\">AutoPeople</field><value name=\"VALUE\"><block type=\"text\" id=\"-*LUPHO@7x]B.[qelagE\"><field name=\"TEXT\">1</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"variables_set\" id=\"5~4%k`_y+7.!Faab:tWw\"><field name=\"VAR\" id=\"vTrJe6Pg)tQ#,!b[nMpr\">AutoPeople</field><value name=\"VALUE\"><block type=\"text\" id=\"23U69D-#FQ-fX/]}#kz]\"><field name=\"TEXT\">0</field></block></value></block></statement></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"yolobit_events_timer\" id=\"l/^%V0hS{Jx~NHX4GUe|\" x=\"-1012\" y=\"438\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\"[1~ea$GctdYhB%.Ysu5V\"><field name=\"NUM\">7</field></shadow></value><statement name=\"ACTION\"><block type=\"yolobit_mqtt_publish\" id=\"H=+2LR15@6#E#0#tF0@+\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"Z_$Dh$V#x[KJcah:so+|\"><field name=\"TEXT\">Hello</field></shadow><block type=\"aiot_light_sensor\" id=\"r5($4ojvbPKU`j7-%fOs\"><field name=\"NAME\">pin0</field></block></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"w{[sDPC2P/Ns+At*1YXC\"><field name=\"TEXT\">light-sensor</field></shadow></value><next><block type=\"aiot_dht_measure\" id=\"(X-Ly9%gMQj/T-W5Qd).\"><next><block type=\"yolobit_mqtt_publish\" id=\"(my3M-P0m];Pq=5d!^ea\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"Z_$Dh$V#x[KJcah:so+|\"><field name=\"TEXT\">Hello</field></shadow><block type=\"aiot_dht_read\" id=\"_Og=/~D5;4^qK(3Ts)*8\"><field name=\"DATA\">TEMP</field></block></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"0VC:oR3I$VMzIt9Wfme4\"><field name=\"TEXT\">temp-sensor</field></shadow></value><next><block type=\"yolobit_mqtt_publish\" id=\".-$:cbN_Uc0OtRHK3hR(\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"Z_$Dh$V#x[KJcah:so+|\"><field name=\"TEXT\">Hello</field></shadow><block type=\"aiot_dht_read\" id=\"CnB+29AXOLb_!bJ29b(5\"><field name=\"DATA\">HUMID</field></block></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"U9!o0#4{x!f`cZNlBwOH\"><field name=\"TEXT\">humid-sensor</field></shadow></value><next><block type=\"controls_if\" id=\"sISXow(7bNn!AG9%vlBj\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"*ND}t0!na$6.ePSd!WSO\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"+$g}v,~032x%2u}bX`YG\"><field name=\"VAR\" id=\"d)A5P*-yyN^tOZ(jr#3`\">AutoLight</field></block></value><value name=\"B\"><block type=\"text\" id=\"cW._.$A];)bnkuJ-7g:9\"><field name=\"TEXT\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\" id=\"?.*JgtvL|B^9$Ux}Ec7M\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"6LO0;4@uk{/;cSBnzf5k\"><field name=\"OP\">LTE</field><value name=\"A\"><block type=\"aiot_light_sensor\" id=\"v(XN[Q@9C)=xATx]cIG`\"><field name=\"NAME\">pin0</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"Kf8v!4^|f*Z9-P-8S.Q2\"><field name=\"NUM\">30</field></block></value></block></value><statement name=\"DO0\"><block type=\"yolobit_mqtt_publish\" id=\"ag@2P-3YFmv]maY56wu7\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"CNzSmUr:G1GbRD^m)=!z\"><field name=\"TEXT\">1</field></shadow><block type=\"text\" id=\"g%UfHH`aazb#GMFRs!%!\"><field name=\"TEXT\">1</field></block></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"vtfkM@:rG;5j*dJC^{F=\"><field name=\"TEXT\">button-light</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"yolobit_mqtt_publish\" id=\"gc9V@$QAGZnmTBy46Cby\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"+tOANb36YfDA]_YK/icJ\"><field name=\"TEXT\">0</field></shadow><block type=\"text\" id=\"/4YlcCk!taDIMla9En5C\"><field name=\"TEXT\">0</field></block></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"Q~YPp?0,E|GrwAAU?%:Q\"><field name=\"TEXT\">button-light</field></shadow></value></block></statement><next><block type=\"yolobit_basic_sleep\" id=\";hj{9Egtb@N2d*zGeS(C\"><value name=\"duration\"><shadow type=\"math_number\" id=\"ru7l19Lxab.l0o%#rAvG\"><field name=\"NUM\">1000</field></shadow></value></block></next></block></statement><next><block type=\"controls_if\" id=\"3oqd/Pw7R:,;@g~A1*#d\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"16d.DRpny0S?Q;rBwAvl\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"S0F*Vj~D+(2!^@BNAbGO\"><field name=\"VAR\" id=\"x3cLAv$PH.V=d)Spx)$I\">AutoFan</field></block></value><value name=\"B\"><block type=\"text\" id=\"{V(vbTOe2$qj;YsZk2XY\"><field name=\"TEXT\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"aiot_dht_measure\" id=\"rQ:!5wy]2obE#^g2R!v@\"><next><block type=\"controls_if\" id=\"NjJ%TN*=UZ[3RRr/3d|T\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"_duFO1EKv6!oUN2e#mC4\"><field name=\"OP\">LTE</field><value name=\"A\"><block type=\"aiot_dht_read\" id=\"|w4glhcws{y_|FPKGhfF\"><field name=\"DATA\">TEMP</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"{w#a3xgc1e}Cn=`}pf6N\"><field name=\"NUM\">30</field></block></value></block></value><statement name=\"DO0\"><block type=\"yolobit_mqtt_publish\" id=\"zBboHQpTYgN94.~1ki4*\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"CNzSmUr:G1GbRD^m)=!z\"><field name=\"TEXT\">1</field></shadow><block type=\"text\" id=\"r+knFBX.FSGD{29s.Ijp\"><field name=\"TEXT\">1</field></block></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"S|qj5dUviYzE/{0tAr[z\"><field name=\"TEXT\">button-fan</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"yolobit_mqtt_publish\" id=\"Ic;3nt,LXM4d7TXqJKZh\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"CNzSmUr:G1GbRD^m)=!z\"><field name=\"TEXT\">1</field></shadow><block type=\"text\" id=\"uo98V0?;WNe-#s~K~p6H\"><field name=\"TEXT\">0</field></block></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"H8zlHvesC:;wTPG4x(r]\"><field name=\"TEXT\">button-fan</field></shadow></value></block></statement><next><block type=\"yolobit_basic_sleep\" id=\"*u+lE$plUas]1?O@1W4y\"><value name=\"duration\"><shadow type=\"math_number\" id=\"rk~K6K45vfxJRcAijCrl\"><field name=\"NUM\">1000</field></shadow></value></block></next></block></next></block></statement><next><block type=\"controls_if\" id=\"Kky(B)KDjP2;_F!H!WXe\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"UTs*F;I:#*ZN{fmbN]3X\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"3_*-S4bNQ`Ec{jHB#^GL\"><field name=\"VAR\" id=\"vTrJe6Pg)tQ#,!b[nMpr\">AutoPeople</field></block></value><value name=\"B\"><block type=\"text\" id=\"Xk/etX}M/r_U=jen/IT+\"><field name=\"TEXT\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\" id=\"jxjI|mt#+C[E:H?UCC}$\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"aiot_ultrasonic_checkdistance\" id=\"Si,~0hZ_EX/6o3gbY@uc\"><field name=\"TYPE\">CM</field><value name=\"DISTANCE\"><shadow type=\"math_number\" id=\"^aSP~TbEE5a7~Ko}j+@b\"><field name=\"NUM\">5</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"yolobit_mqtt_publish\" id=\"h.bW*zqlvigKUe(gP:vY\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"CNzSmUr:G1GbRD^m)=!z\"><field name=\"TEXT\">1</field></shadow><block type=\"text\" id=\")ct^dNYxkw;QJ:r$hCZs\"><field name=\"TEXT\">1</field></block></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"JUj1DEr~#0+jZoW]jB*(\"><field name=\"TEXT\">button-light</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"yolobit_mqtt_publish\" id=\"pfaMk#^niV=1%%Y)j:qj\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"+tOANb36YfDA]_YK/icJ\"><field name=\"TEXT\">0</field></shadow><block type=\"text\" id=\"d-%=IE%-o~ll%OQRFw.a\"><field name=\"TEXT\">0</field></block></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"x+Y}+E*~wo-8bNJsog,C\"><field name=\"TEXT\">button-light</field></shadow></value></block></statement><next><block type=\"yolobit_basic_sleep\" id=\"j}NuiGXC~QR=b4A.P2IO\"><value name=\"duration\"><shadow type=\"math_number\" id=\"W5p+|C+3CIQK/N3xpEj2\"><field name=\"NUM\">1000</field></shadow></value></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","python":"from yolobit import *\nbutton_a.on_pressed = None\nbutton_b.on_pressed = None\nbutton_a.on_pressed_ab = button_b.on_pressed_ab = -1\nfrom mqtt import *\nfrom machine import RTC\nimport ntptime\nimport time\nfrom aiot_hcsr04 import HCSR04\nfrom event_manager import *\nfrom aiot_rgbled import RGBLed\nfrom machine import Pin, SoftI2C\nfrom aiot_dht20 import DHT20\n\nevent_manager.reset()\n\ntiny_rgb = RGBLed(pin14.pin, 4)\n\ndef on_mqtt_message_receive_callback__button_light_(th_C3_B4ng_tin):\n  global Fan, Door, Func1, AutoFan, Func2, AutoLight, Func3, AutoPeople\n  if th_C3_B4ng_tin == '1':\n    tiny_rgb.show(0, hex_to_rgb('#ffffff'))\n  else:\n    tiny_rgb.show(0, hex_to_rgb('#000000'))\n\ndef on_mqtt_message_receive_callback__button_fan_(Fan):\n  global th_C3_B4ng_tin, Door, Func1, AutoFan, Func2, AutoLight, Func3, AutoPeople\n  if Fan == '1':\n    pin3.write_analog(round(translate(70, 0, 100, 0, 1023)))\n  else:\n    pin3.write_analog(round(translate(0, 0, 100, 0, 1023)))\n\ndef on_mqtt_message_receive_callback__door_(Door):\n  global th_C3_B4ng_tin, Fan, Func1, AutoFan, Func2, AutoLight, Func3, AutoPeople\n  if Door == '1':\n    pin6.servo_write(90)\n  else:\n    pin6.servo_write(0)\n\ndef on_mqtt_message_receive_callback__auto1_(Func1):\n  global th_C3_B4ng_tin, Fan, Door, AutoFan, Func2, AutoLight, Func3, AutoPeople\n  if Func1 == '1':\n    AutoLight = '1'\n  else:\n    AutoLight = '0'\n\ndef on_mqtt_message_receive_callback__auto2_(Func2):\n  global th_C3_B4ng_tin, Fan, Door, Func1, AutoFan, AutoLight, Func3, AutoPeople\n  if Func2 == '1':\n    AutoFan = '1'\n  else:\n    AutoFan = '0'\n\ndef on_mqtt_message_receive_callback__auto3_(Func3):\n  global th_C3_B4ng_tin, Fan, Door, Func1, AutoFan, Func2, AutoLight, AutoPeople\n  if Func3 == '1':\n    AutoPeople = '1'\n  else:\n    AutoPeople = '0'\n\n# Mô tả hàm này...\ndef DangKyServer():\n  global th_C3_B4ng_tin, Fan, Door, Func1, AutoFan, Func2, AutoLight, Func3, AutoPeople, aiot_dht20, tiny_rgb, aiot_ultrasonic\n  mqtt.on_receive_message('button-light', on_mqtt_message_receive_callback__button_light_)\n  mqtt.on_receive_message('button-fan', on_mqtt_message_receive_callback__button_fan_)\n  mqtt.on_receive_message('door', on_mqtt_message_receive_callback__door_)\n  mqtt.on_receive_message('auto1', on_mqtt_message_receive_callback__auto1_)\n  mqtt.on_receive_message('auto2', on_mqtt_message_receive_callback__auto2_)\n  mqtt.on_receive_message('auto3', on_mqtt_message_receive_callback__auto3_)\n\naiot_dht20 = DHT20(SoftI2C(scl=Pin(22), sda=Pin(21)))\n\ndef on_event_timer_callback_l_V_h_S_J():\n  global th_C3_B4ng_tin, Fan, Door, Func1, AutoFan, Func2, AutoLight, Func3, AutoPeople\n  mqtt.publish('light-sensor', (round(translate((pin0.read_analog()), 0, 4095, 0, 100))))\n  aiot_dht20.read_dht20()\n  mqtt.publish('temp-sensor', (aiot_dht20.dht20_temperature()))\n  mqtt.publish('humid-sensor', (aiot_dht20.dht20_humidity()))\n  if AutoLight == '1':\n    if (round(translate((pin0.read_analog()), 0, 4095, 0, 100))) <= 30:\n      mqtt.publish('button-light', '1')\n    else:\n      mqtt.publish('button-light', '0')\n    time.sleep_ms(1000)\n  if AutoFan == '1':\n    aiot_dht20.read_dht20()\n    if (aiot_dht20.dht20_temperature()) <= 30:\n      mqtt.publish('button-fan', '1')\n    else:\n      mqtt.publish('button-fan', '0')\n    time.sleep_ms(1000)\n  if AutoPeople == '1':\n    if aiot_ultrasonic.distance_cm() < 5:\n      mqtt.publish('button-light', '1')\n    else:\n      mqtt.publish('button-light', '0')\n    time.sleep_ms(1000)\n\nevent_manager.add_timer_event(7000, on_event_timer_callback_l_V_h_S_J)\n\nif True:\n  display.scroll('AIOT')\n  mqtt.connect_wifi('Android6666', '12345678')\n  mqtt.connect_broker(server='io.adafruit.com', port=1883, username='HarryHaha', password='aio_wHPt23RGoOQoK8MD32FJcfhbXWiS')\n  ntptime.settime()\n  (year, month, mday, week_of_year, hour, minute, second, milisecond) = RTC().datetime()\n  RTC().init((year, month, mday, week_of_year, hour+7, minute, second, milisecond))\n  AutoFan = '0'\n  AutoLight = '0'\n  AutoPeople = '0'\n  aiot_ultrasonic = HCSR04(trigger_pin=pin10.pin, echo_pin=pin13.pin)\n  display.scroll('OK')\n  DangKyServer()\n\nwhile True:\n  mqtt.check_message()\n  event_manager.run()\n  time.sleep_ms(5000)\n","name":"ĐAĐN official","extensions":[{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_mqtt","src":"https://github.com/AITT-VN/yolobit_extension_mqtt","name":"MQTT","description":"Mục mở rộng hỗ trợ giao tiếp MQTT cho ứng dụng IoT"},{"id":"yolobit-AITT-VN-yolobit_extension_mqtt","src":"https://github.com/AITT-VN/yolobit_extension_mqtt","name":"MQTT","description":"Mục mở rộng hỗ trợ giao tiếp MQTT cho ứng dụng IoT"},{"id":"yolobit-AITT-VN-yolobit_extension_mqtt","src":"https://github.com/AITT-VN/yolobit_extension_mqtt","name":"MQTT","description":"Mục mở rộng hỗ trợ giao tiếp MQTT cho ứng dụng IoT"},{"id":"yolobit-AITT-VN-yolobit_extension_mqtt","src":"https://github.com/AITT-VN/yolobit_extension_mqtt","name":"MQTT","description":"Mục mở rộng hỗ trợ giao tiếp MQTT cho ứng dụng IoT"},{"id":"yolobit-AITT-VN-yolobit_extension_mqtt","src":"https://github.com/AITT-VN/yolobit_extension_mqtt","name":"MQTT","description":"Mục mở rộng hỗ trợ giao tiếp MQTT cho ứng dụng IoT"},{"id":"yolobit-AITT-VN-yolobit_extension_events","src":"https://github.com/AITT-VN/yolobit_extension_events","name":"SỰ KIỆN","description":"Mục mở rộng hỗ trợ sử dụng sự kiện trong chương trình"},{"id":"yolobit-AITT-VN-yolobit_extension_events","src":"https://github.com/AITT-VN/yolobit_extension_events","name":"SỰ KIỆN","description":"Mục mở rộng hỗ trợ sử dụng sự kiện trong chương trình"},{"id":"yolobit-AITT-VN-yolobit_ntp","src":"https://github.com/AITT-VN/yolobit_ntp","name":"NTP","description":"Mục mở rộng hỗ trợ đọc thời gian từ Internet qua giao thức NTP (Network Time Protocol)"}],"device":"yolobit"}