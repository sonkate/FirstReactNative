{"version":3,"file":"ej2-svg-base.umd.min.js","sources":["../src/tooltip/interface.js","../src/tooltip/helper.js","../src/svg-render/svg-renderer.js","../src/svg-render/canvas-renderer.js","../src/tooltip/tooltip.js"],"sourcesContent":["/** @private */\nexport function getTooltipThemeColor(theme) {\n    var style;\n    switch (theme) {\n        case 'Highcontrast':\n        case 'HighContrast':\n            style = {\n                tooltipFill: '#ffffff',\n                tooltipBoldLabel: '#000000',\n                tooltipLightLabel: '#000000',\n                tooltipHeaderLine: '#969696'\n            };\n            break;\n        case 'MaterialDark':\n        case 'FabricDark':\n        case 'BootstrapDark':\n            style = {\n                tooltipFill: '#F4F4F4',\n                tooltipBoldLabel: '#282727',\n                tooltipLightLabel: '#333232',\n                tooltipHeaderLine: '#9A9A9A'\n            };\n            break;\n        case 'Bootstrap4':\n            style = {\n                tooltipFill: '#020202',\n                tooltipBoldLabel: 'rgba(255, 255, 255)',\n                tooltipLightLabel: 'rgba(255, 255, 255, 0.9)',\n                tooltipHeaderLine: 'rgba(255, 255, 255, 0.2)'\n            };\n            break;\n        case 'Tailwind':\n            style = {\n                tooltipFill: '#111827',\n                tooltipBoldLabel: '#D1D5DB',\n                tooltipLightLabel: '#F9FAFB',\n                tooltipHeaderLine: '#6B7280'\n            };\n            break;\n        case 'TailwindDark':\n            style = {\n                tooltipFill: '#F9FAFB',\n                tooltipBoldLabel: '#6B7280',\n                tooltipLightLabel: '#1F2937',\n                tooltipHeaderLine: '#9CA3AF'\n            };\n            break;\n        case 'Bootstrap5':\n            style = {\n                tooltipFill: '#212529',\n                tooltipBoldLabel: '#F9FAFB',\n                tooltipLightLabel: '#F9FAFB',\n                tooltipHeaderLine: '#9CA3AF'\n            };\n            break;\n        case 'Bootstrap5Dark':\n            style = {\n                tooltipFill: '#E9ECEF',\n                tooltipBoldLabel: '#212529',\n                tooltipLightLabel: '#212529',\n                tooltipHeaderLine: '#ADB5BD'\n            };\n            break;\n        case 'Fluent':\n            style = {\n                tooltipFill: '#FFFFFF',\n                tooltipBoldLabel: '#323130',\n                tooltipLightLabel: '#323130',\n                tooltipHeaderLine: '#D2D0CE'\n            };\n            break;\n        case 'FluentDark':\n            style = {\n                tooltipFill: '#252423',\n                tooltipBoldLabel: '#F3F2F1',\n                tooltipLightLabel: '#F3F2F1',\n                tooltipHeaderLine: '#3B3A39'\n            };\n            break;\n        default:\n            style = {\n                tooltipFill: '#000816',\n                tooltipBoldLabel: '#ffffff',\n                tooltipLightLabel: '#dbdbdb',\n                tooltipHeaderLine: '#ffffff'\n            };\n            break;\n    }\n    return style;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { SvgRenderer } from '../svg-render/index';\nimport { createElement, remove, merge } from '@syncfusion/ej2-base';\n/**\n * Function to measure the height and width of the text.\n *\n * @private\n * @param {string} text To get a text\n * @param {FontModel} font To get a font of the text\n * @returns {Size} measureText\n */\nexport function measureText(text, font) {\n    var breakText = text || ''; // For avoid NuLL value\n    var htmlObject = document.getElementById('chartmeasuretext');\n    if (htmlObject === null) {\n        htmlObject = createElement('text', { id: 'chartmeasuretext' });\n        document.body.appendChild(htmlObject);\n    }\n    if (typeof (text) === 'string' && (text.indexOf('<') > -1 || text.indexOf('>') > -1)) {\n        var textArray = text.split(' ');\n        for (var i = 0; i < textArray.length; i++) {\n            if (textArray[i].indexOf('<br/>') === -1) {\n                textArray[i] = textArray[i].replace(/[<>]/g, '&');\n            }\n        }\n        text = textArray.join(' ');\n    }\n    htmlObject.innerHTML = (breakText.indexOf('<br>') > -1 || breakText.indexOf('<br/>') > -1) ? breakText : text;\n    htmlObject.style.position = 'fixed';\n    htmlObject.style.fontSize = font.size;\n    htmlObject.style.fontWeight = font.fontWeight;\n    htmlObject.style.fontStyle = font.fontStyle;\n    htmlObject.style.fontFamily = font.fontFamily;\n    htmlObject.style.visibility = 'hidden';\n    htmlObject.style.top = '-100';\n    htmlObject.style.left = '0';\n    htmlObject.style.whiteSpace = 'nowrap';\n    // For bootstrap line height issue\n    htmlObject.style.lineHeight = 'normal';\n    return new Size(htmlObject.clientWidth, htmlObject.clientHeight);\n}\n/** @private */\nexport function withInAreaBounds(x, y, areaBounds, width, height) {\n    if (width === void 0) { width = 0; }\n    if (height === void 0) { height = 0; }\n    return (x >= areaBounds.x - width && x <= areaBounds.x + areaBounds.width + width && y >= areaBounds.y - height\n        && y <= areaBounds.y + areaBounds.height + height);\n}\n/** @private */\nexport function findDirection(rX, rY, rect, arrowLocation, arrowPadding, top, bottom, left, tipX, tipY, controlName) {\n    if (controlName === void 0) { controlName = ''; }\n    var direction = '';\n    var startX = rect.x;\n    var startY = rect.y;\n    var width = rect.x + rect.width;\n    var height = rect.y + rect.height;\n    if (top) {\n        direction = direction.concat('M' + ' ' + (startX) + ' ' + (startY + rY) + ' Q ' + startX + ' '\n            + startY + ' ' + (startX + rX) + ' ' + startY + ' ' +\n            ' L' + ' ' + (width - rX) + ' ' + (startY) + ' Q ' + width + ' '\n            + startY + ' ' + (width) + ' ' + (startY + rY));\n        direction = direction.concat(' L' + ' ' + (width) + ' ' + (height - rY) + ' Q ' + width + ' '\n            + (height) + ' ' + (width - rX) + ' ' + (height));\n        if (arrowPadding !== 0) {\n            if (controlName === 'RangeNavigator') {\n                if ((arrowLocation.x - arrowPadding) > width / 2) {\n                    direction = direction.concat(' L' + ' ' + (arrowLocation.x + arrowPadding) + ' ' + (height));\n                    direction = direction.concat(' L' + ' ' + (tipX + arrowPadding) + ' ' + (height + arrowPadding)\n                        + ' L' + ' ' + (arrowLocation.x) + ' ' + height);\n                }\n                else {\n                    direction = direction.concat(' L' + ' ' + (arrowLocation.x) + ' ' + (height));\n                    direction = direction.concat(' L' + ' ' + (tipX - arrowPadding) + ' ' + (height + arrowPadding)\n                        + ' L' + ' ' + (arrowLocation.x - arrowPadding) + ' ' + height);\n                }\n            }\n            else {\n                direction = direction.concat(' L' + ' ' + (arrowLocation.x + arrowPadding) + ' ' + (height));\n                direction = direction.concat(' L' + ' ' + (tipX) + ' ' + (height + arrowPadding)\n                    + ' L' + ' ' + (arrowLocation.x - arrowPadding) + ' ' + height);\n            }\n        }\n        if ((arrowLocation.x - arrowPadding) > startX) {\n            direction = direction.concat(' L' + ' ' + (startX + rX) + ' ' + height + ' Q ' + startX + ' '\n                + height + ' ' + (startX) + ' ' + (height - rY) + ' z');\n        }\n        else {\n            if (arrowPadding === 0) {\n                direction = direction.concat(' L' + ' ' + (startX + rX) + ' ' + height + ' Q ' + startX + ' '\n                    + height + ' ' + (startX) + ' ' + (height - rY) + ' z');\n            }\n            else {\n                direction = direction.concat(' L' + ' ' + (startX) + ' ' + (height + rY) + ' z');\n            }\n        }\n    }\n    else if (bottom) {\n        direction = direction.concat('M' + ' ' + (startX) + ' ' + (startY + rY) + ' Q ' + startX + ' '\n            + (startY) + ' ' + (startX + rX) + ' ' + (startY) + ' L' + ' ' + (arrowLocation.x - arrowPadding) + ' ' + (startY));\n        direction = direction.concat(' L' + ' ' + (tipX) + ' ' + (arrowLocation.y));\n        direction = direction.concat(' L' + ' ' + (arrowLocation.x + arrowPadding) + ' ' + (startY));\n        direction = direction.concat(' L' + ' ' + (width - rX) + ' ' + (startY)\n            + ' Q ' + (width) + ' ' + (startY) + ' ' + (width) + ' ' + (startY + rY));\n        direction = direction.concat(' L' + ' ' + (width) + ' ' + (height - rY) + ' Q ' + (width) + ' '\n            + (height) + ' ' + (width - rX) + ' ' + (height) +\n            ' L' + ' ' + (startX + rX) + ' ' + (height) + ' Q ' + (startX) + ' '\n            + (height) + ' ' + (startX) + ' ' + (height - rY) + ' z');\n    }\n    else if (left) {\n        direction = direction.concat('M' + ' ' + (startX) + ' ' + (startY + rY) + ' Q ' + startX + ' '\n            + (startY) + ' ' + (startX + rX) + ' ' + (startY));\n        direction = direction.concat(' L' + ' ' + (width - rX) + ' ' + (startY) + ' Q ' + (width) + ' '\n            + (startY) + ' ' + (width) + ' ' + (startY + rY) + ' L' + ' ' + (width) + ' ' + (arrowLocation.y - arrowPadding));\n        direction = (controlName === 'RangeNavigator') ? direction.concat(' L' + ' ' + (width + arrowPadding) + ' ' + (tipY - arrowPadding)) :\n            direction.concat(' L' + ' ' + (width + arrowPadding) + ' ' + (tipY));\n        direction = (controlName === 'RangeNavigator') ? direction.concat(' L' + ' ' + (width) + ' ' + (arrowLocation.y)) :\n            direction.concat(' L' + ' ' + (width) + ' ' + (arrowLocation.y + arrowPadding));\n        direction = direction.concat(' L' + ' ' + (width) + ' ' + (height - rY) + ' Q ' + width + ' ' + (height) + ' ' + (width - rX) + ' ' + (height));\n        direction = direction.concat(' L' + ' ' + (startX + rX) + ' ' + (height) + ' Q ' + startX + ' '\n            + (height) + ' ' + (startX) + ' ' + (height - rY) + ' z');\n    }\n    else {\n        direction = direction.concat('M' + ' ' + (startX + rX) + ' ' + (startY) + ' Q ' + (startX) + ' '\n            + (startY) + ' ' + (startX) + ' ' + (startY + rY) + ' L' + ' ' + (startX) + ' ' + (arrowLocation.y - arrowPadding));\n        direction = (controlName === 'RangeNavigator') ? direction.concat(' L' + ' ' + (startX - arrowPadding) + ' ' + (tipY - arrowPadding)) :\n            direction.concat(' L' + ' ' + (startX - arrowPadding) + ' ' + (tipY));\n        direction = (controlName === 'RangeNavigator') ? direction.concat(' L' + ' ' + (startX) + ' ' + (arrowLocation.y)) :\n            direction.concat(' L' + ' ' + (startX) + ' ' + (arrowLocation.y + arrowPadding));\n        direction = direction.concat(' L' + ' ' + (startX) + ' ' + (height - rY) + ' Q ' + startX + ' '\n            + (height) + ' ' + (startX + rX) + ' ' + (height));\n        direction = direction.concat(' L' + ' ' + (width - rX) + ' ' + (height) + ' Q ' + width + ' '\n            + (height) + ' ' + (width) + ' ' + (height - rY) +\n            ' L' + ' ' + (width) + ' ' + (startY + rY) + ' Q ' + width + ' '\n            + (startY) + ' ' + (width - rX) + ' ' + (startY) + ' z');\n    }\n    return direction;\n}\n/** @private */\nvar Size = /** @class */ (function () {\n    function Size(width, height) {\n        this.width = width;\n        this.height = height;\n    }\n    return Size;\n}());\nexport { Size };\n/** @private */\nvar Rect = /** @class */ (function () {\n    function Rect(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n    }\n    return Rect;\n}());\nexport { Rect };\nvar Side = /** @class */ (function () {\n    function Side(bottom, right) {\n        this.isRight = right;\n        this.isBottom = bottom;\n    }\n    return Side;\n}());\nexport { Side };\n/** @private */\nvar CustomizeOption = /** @class */ (function () {\n    function CustomizeOption(id) {\n        this.id = id;\n    }\n    return CustomizeOption;\n}());\nexport { CustomizeOption };\n/** @private */\nvar TextOption = /** @class */ (function (_super) {\n    __extends(TextOption, _super);\n    function TextOption(id, x, y, anchor, text, transform, baseLine, labelRotation) {\n        if (transform === void 0) { transform = ''; }\n        var _this = _super.call(this, id) || this;\n        _this.transform = '';\n        _this.baseLine = 'auto';\n        _this.labelRotation = 0;\n        _this.x = x;\n        _this.y = y;\n        _this.anchor = anchor;\n        _this.text = text;\n        _this.transform = transform;\n        _this.baseLine = baseLine;\n        _this.labelRotation = labelRotation;\n        return _this;\n    }\n    return TextOption;\n}(CustomizeOption));\nexport { TextOption };\n/** @private */\nexport function getElement(id) {\n    return document.getElementById(id);\n}\n/** @private */\nexport function removeElement(id) {\n    var element = getElement(id);\n    if (element) {\n        remove(element);\n    }\n}\n/** @private */\nexport function drawSymbol(location, shape, size, url, options, label) {\n    var renderer = new SvgRenderer('');\n    var temp = calculateShapes(location, size, shape, options, url);\n    var htmlObject = renderer['draw' + temp.functionName](temp.renderOption);\n    htmlObject.setAttribute('aria-label', label);\n    return htmlObject;\n}\n/** @private */\nexport function calculateShapes(location, size, shape, options, url) {\n    var path;\n    var functionName = 'Path';\n    var width = size.width;\n    var height = size.height;\n    var locX = location.x;\n    var locY = location.y;\n    var x = location.x + (-width / 2);\n    var y = location.y + (-height / 2);\n    switch (shape) {\n        case 'Circle':\n        case 'Bubble':\n            functionName = 'Ellipse';\n            merge(options, { 'rx': width / 2, 'ry': height / 2, 'cx': locX, 'cy': locY });\n            break;\n        case 'Cross':\n            path = 'M' + ' ' + x + ' ' + locY + ' ' + 'L' + ' ' + (locX + (width / 2)) + ' ' + locY + ' ' +\n                'M' + ' ' + locX + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' ' + locX + ' ' +\n                (locY + (-height / 2));\n            merge(options, { 'd': path });\n            break;\n        case 'HorizontalLine':\n            path = 'M' + ' ' + x + ' ' + locY + ' ' + 'L' + ' ' + (locX + (width / 2)) + ' ' + locY;\n            merge(options, { 'd': path });\n            break;\n        case 'VerticalLine':\n            path = 'M' + ' ' + locX + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' ' + locX + ' ' + (locY + (-height / 2));\n            merge(options, { 'd': path });\n            break;\n        case 'Diamond':\n            path = 'M' + ' ' + x + ' ' + locY + ' ' +\n                'L' + ' ' + locX + ' ' + (locY + (-height / 2)) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + locY + ' ' +\n                'L' + ' ' + locX + ' ' + (locY + (height / 2)) + ' ' +\n                'L' + ' ' + x + ' ' + locY + ' z';\n            merge(options, { 'd': path });\n            break;\n        case 'Rectangle':\n            path = 'M' + ' ' + x + ' ' + (locY + (-height / 2)) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + (locY + (-height / 2)) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + (locY + (height / 2)) + ' ' +\n                'L' + ' ' + x + ' ' + (locY + (height / 2)) + ' ' +\n                'L' + ' ' + x + ' ' + (locY + (-height / 2)) + ' z';\n            merge(options, { 'd': path });\n            break;\n        case 'Triangle':\n            path = 'M' + ' ' + x + ' ' + (locY + (height / 2)) + ' ' +\n                'L' + ' ' + locX + ' ' + (locY + (-height / 2)) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + (locY + (height / 2)) + ' ' +\n                'L' + ' ' + x + ' ' + (locY + (height / 2)) + ' z';\n            merge(options, { 'd': path });\n            break;\n        case 'InvertedTriangle':\n            path = 'M' + ' ' + (locX + (width / 2)) + ' ' + (locY - (height / 2)) + ' ' +\n                'L' + ' ' + locX + ' ' + (locY + (height / 2)) + ' ' +\n                'L' + ' ' + (locX - (width / 2)) + ' ' + (locY - (height / 2)) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + (locY - (height / 2)) + ' z';\n            merge(options, { 'd': path });\n            break;\n        case 'Pentagon':\n            var eq = 72;\n            var xValue = void 0;\n            var yValue = void 0;\n            for (var i = 0; i <= 5; i++) {\n                xValue = (width / 2) * Math.cos((Math.PI / 180) * (i * eq));\n                yValue = (height / 2) * Math.sin((Math.PI / 180) * (i * eq));\n                if (i === 0) {\n                    path = 'M' + ' ' + (locX + xValue) + ' ' + (locY + yValue) + ' ';\n                }\n                else {\n                    path = path.concat('L' + ' ' + (locX + xValue) + ' ' + (locY + yValue) + ' ');\n                }\n            }\n            path = path.concat('Z');\n            merge(options, { 'd': path });\n            break;\n        case 'Image':\n            functionName = 'Image';\n            merge(options, { 'href': url, 'height': height, 'width': width, x: x, y: y });\n            break;\n    }\n    return { renderOption: options, functionName: functionName };\n}\n/** @private */\nvar PathOption = /** @class */ (function (_super) {\n    __extends(PathOption, _super);\n    function PathOption(id, fill, width, color, opacity, dashArray, d) {\n        var _this = _super.call(this, id) || this;\n        _this.opacity = opacity;\n        _this.fill = fill;\n        _this.stroke = color;\n        _this['stroke-width'] = width;\n        _this['stroke-dasharray'] = dashArray;\n        _this.d = d;\n        return _this;\n    }\n    return PathOption;\n}(CustomizeOption));\nexport { PathOption };\n/** @private */\nexport function textElement(options, font, color, parent) {\n    var renderOptions = {};\n    var renderer = new SvgRenderer('');\n    renderOptions = {\n        'id': options.id,\n        'x': options.x,\n        'y': options.y,\n        'fill': color,\n        'font-size': font.size,\n        'font-style': font.fontStyle,\n        'font-family': font.fontFamily,\n        'font-weight': font.fontWeight,\n        'text-anchor': options.anchor,\n        'transform': options.transform,\n        'opacity': font.opacity,\n        'dominant-baseline': options.baseLine\n    };\n    var text = typeof options.text === 'string' ? options.text : options.text[0];\n    var htmlObject = renderer.createText(renderOptions, text);\n    htmlObject.style.fontFamily = font.fontFamily;\n    htmlObject.style.fontStyle = font.fontStyle;\n    htmlObject.style.fontSize = font.size;\n    htmlObject.style.fontWeight = font.fontWeight;\n    htmlObject.style.color = font.color;\n    parent.appendChild(htmlObject);\n    return htmlObject;\n}\nvar TooltipLocation = /** @class */ (function () {\n    function TooltipLocation(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    return TooltipLocation;\n}());\nexport { TooltipLocation };\n","/* eslint-disable jsdoc/require-returns */\n/* eslint-disable valid-jsdoc */\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/**\n * To import utils\n */\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nvar SvgRenderer = /** @class */ (function () {\n    /* End-Properties */\n    function SvgRenderer(rootID) {\n        //Internal Variables\n        this.svgLink = 'http://www.w3.org/2000/svg';\n        this.rootId = rootID;\n    }\n    // method to get the attributes value\n    // tslint:disable-next-line:no-any\n    SvgRenderer.prototype.getOptionValue = function (options, key) {\n        return options[key];\n    }; /* tslint:enable */\n    /**\n     * To create a Html5 SVG element\n     *\n     * @param {SVGAttributes} options - Options to create SVG\n     * @returns {Element} It returns a appropriate element\n     */\n    SvgRenderer.prototype.createSvg = function (options) {\n        if (isNullOrUndefined(options.id)) {\n            options.id = this.rootId + '_svg';\n        }\n        this.svgObj = document.getElementById(options.id);\n        if (isNullOrUndefined(document.getElementById(options.id))) {\n            this.svgObj = document.createElementNS(this.svgLink, 'svg');\n        }\n        this.svgObj = this.setElementAttributes(options, this.svgObj);\n        this.setSVGSize(options.width, options.height);\n        return this.svgObj;\n    };\n    // method to set the height and width for the SVG element\n    SvgRenderer.prototype.setSVGSize = function (width, height) {\n        var element = document.getElementById(this.rootId);\n        var size = !isNullOrUndefined(element) ? element.getBoundingClientRect() : null;\n        if (isNullOrUndefined(this.width) || this.width <= 0) {\n            this.svgObj.setAttribute('width', width ? width.toString() : size.width.toString());\n        }\n        else {\n            this.svgObj.setAttribute('width', this.width.toString());\n        }\n        if (isNullOrUndefined(this.height) || this.height <= 0) {\n            this.svgObj.setAttribute('height', height ? height.toString() : '450');\n        }\n        else {\n            this.svgObj.setAttribute('height', this.height.toString());\n        }\n    };\n    /**\n     * To draw a path\n     *\n     * @param {PathAttributes} options - Options to draw a path in SVG\n     * @returns {Element} It returns a appropriate path\n     */\n    SvgRenderer.prototype.drawPath = function (options) {\n        var path = document.getElementById(options.id);\n        if (path === null) {\n            path = document.createElementNS(this.svgLink, 'path');\n        }\n        path = this.setElementAttributes(options, path);\n        return path;\n    };\n    /**\n     * To draw a line\n     *\n     * @param {LineAttributes} options - Options to draw a line in SVG\n     * @returns {Element} It returns a appropriate element\n     */\n    SvgRenderer.prototype.drawLine = function (options) {\n        var line = document.getElementById(options.id);\n        if (line === null) {\n            line = document.createElementNS(this.svgLink, 'line');\n        }\n        line = this.setElementAttributes(options, line);\n        return line;\n    };\n    /**\n     * To draw a rectangle\n     *\n     * @param {BaseAttibutes} options - Required options to draw a rectangle in SVG\n     * @returns {Element} It returns a appropriate element\n     */\n    SvgRenderer.prototype.drawRectangle = function (options) {\n        var rectangle = document.getElementById(options.id);\n        if (rectangle === null) {\n            rectangle = document.createElementNS(this.svgLink, 'rect');\n        }\n        rectangle = this.setElementAttributes(options, rectangle);\n        return rectangle;\n    };\n    /**\n     * To draw a circle\n     *\n     * @param {CircleAttributes} options - Required options to draw a circle in SVG\n     * @returns {Element} It returns a appropriate element\n     */\n    SvgRenderer.prototype.drawCircle = function (options) {\n        var circle = document.getElementById(options.id);\n        if (circle === null) {\n            circle = document.createElementNS(this.svgLink, 'circle');\n        }\n        circle = this.setElementAttributes(options, circle);\n        return circle;\n    };\n    /**\n     * To draw a polyline\n     *\n     * @param {PolylineAttributes} options - Options required to draw a polyline\n     * @returns {Element} It returns a appropriate element\n     */\n    SvgRenderer.prototype.drawPolyline = function (options) {\n        var polyline = document.getElementById(options.id);\n        if (polyline === null) {\n            polyline = document.createElementNS(this.svgLink, 'polyline');\n        }\n        polyline = this.setElementAttributes(options, polyline);\n        return polyline;\n    };\n    /**\n     * To draw an ellipse\n     *\n     * @param {EllipseAttributes} options - Options required to draw an ellipse\n     * @returns {Element} It returns a appropriate element\n     */\n    SvgRenderer.prototype.drawEllipse = function (options) {\n        var ellipse = document.getElementById(options.id);\n        if (ellipse === null) {\n            ellipse = document.createElementNS(this.svgLink, 'ellipse');\n        }\n        ellipse = this.setElementAttributes(options, ellipse);\n        return ellipse;\n    };\n    /**\n     * To draw a polygon\n     *\n     * @param {PolylineAttributes} options - Options needed to draw a polygon in SVG\n     * @returns {Element} It returns a appropriate element\n     */\n    SvgRenderer.prototype.drawPolygon = function (options) {\n        var polygon = document.getElementById(options.id);\n        if (polygon === null) {\n            polygon = document.createElementNS(this.svgLink, 'polygon');\n        }\n        polygon = this.setElementAttributes(options, polygon);\n        return polygon;\n    };\n    /**\n     * To draw an image\n     *\n     * @param {ImageAttributes} options - Required options to draw an image in SVG\n     * @returns {Element} It returns a appropriate element\n     */\n    SvgRenderer.prototype.drawImage = function (options) {\n        var img = document.createElementNS(this.svgLink, 'image');\n        img.setAttributeNS(null, 'height', options.height.toString());\n        img.setAttributeNS(null, 'width', options.width.toString());\n        img.setAttributeNS('http://www.w3.org/1999/xlink', 'href', options.href);\n        img.setAttributeNS(null, 'x', options.x.toString());\n        img.setAttributeNS(null, 'y', options.y.toString());\n        img.setAttributeNS(null, 'id', options.id);\n        img.setAttributeNS(null, 'visibility', options.visibility);\n        if (!isNullOrUndefined(this.getOptionValue(options, 'clip-path'))) {\n            img.setAttributeNS(null, 'clip-path', this.getOptionValue(options, 'clip-path'));\n        }\n        if (!isNullOrUndefined(options.preserveAspectRatio)) {\n            img.setAttributeNS(null, 'preserveAspectRatio', options.preserveAspectRatio);\n        }\n        return img;\n    };\n    /**\n     * To draw a text\n     *\n     * @param {TextAttributes} options - Options needed to draw a text in SVG\n     * @param {string} label - Label of the text\n     * @returns {Element} It returns a appropriate element\n     */\n    SvgRenderer.prototype.createText = function (options, label) {\n        var text = document.createElementNS(this.svgLink, 'text');\n        text = this.setElementAttributes(options, text);\n        if (!isNullOrUndefined(label)) {\n            text.textContent = label;\n        }\n        return text;\n    };\n    /**\n     * To create a tSpan\n     *\n     * @param {TextAttributes} options - Options to create tSpan\n     * @param {string} label - The text content which is to be rendered in the tSpan\n     * @returns {Element} It returns a appropriate element\n     */\n    SvgRenderer.prototype.createTSpan = function (options, label) {\n        var tSpan = document.createElementNS(this.svgLink, 'tspan');\n        tSpan = this.setElementAttributes(options, tSpan);\n        if (!isNullOrUndefined(label)) {\n            tSpan.textContent = label;\n        }\n        return tSpan;\n    };\n    /**\n     * To create a title\n     *\n     * @param {string} text - The text content which is to be rendered in the title\n     * @returns {Element} It returns a appropriate element\n     */\n    SvgRenderer.prototype.createTitle = function (text) {\n        var title = document.createElementNS(this.svgLink, 'title');\n        title.textContent = text;\n        return title;\n    };\n    /**\n     * To create defs element in SVG\n     *\n     * @returns {Element} It returns a appropriate element\n     */\n    SvgRenderer.prototype.createDefs = function () {\n        var defs = document.createElementNS(this.svgLink, 'defs');\n        return defs;\n    };\n    /**\n     * To create clip path in SVG\n     *\n     * @param {BaseAttibutes} options - Options needed to create clip path\n     * @returns {Element} It returns a appropriate element\n     */\n    SvgRenderer.prototype.createClipPath = function (options) {\n        var clipPath = document.createElementNS(this.svgLink, 'clipPath');\n        clipPath = this.setElementAttributes(options, clipPath);\n        return clipPath;\n    };\n    /**\n     * To create foreign object in SVG\n     *\n     * @param {BaseAttibutes} options - Options needed to create foreign object\n     * @returns {Element} It returns a appropriate element\n     */\n    SvgRenderer.prototype.createForeignObject = function (options) {\n        var foreignObject = document.createElementNS(this.svgLink, 'foreignObject');\n        foreignObject = this.setElementAttributes(options, foreignObject);\n        return foreignObject;\n    };\n    /**\n     * To create group element in SVG\n     *\n     * @param {BaseAttibutes} options - Options needed to create group\n     * @returns {Element} It returns a appropriate element\n     */\n    SvgRenderer.prototype.createGroup = function (options) {\n        var group = document.createElementNS(this.svgLink, 'g');\n        group = this.setElementAttributes(options, group);\n        return group;\n    };\n    /**\n     * To create pattern in SVG\n     *\n     * @param {PatternAttributes} options - Required options to create pattern in SVG\n     * @param {string} element - Specifies the name of the pattern\n     * @returns {Element} It returns a appropriate element\n     */\n    SvgRenderer.prototype.createPattern = function (options, element) {\n        var pattern = document.createElementNS(this.svgLink, element);\n        pattern = this.setElementAttributes(options, pattern);\n        return pattern;\n    };\n    /**\n     * To create radial gradient in SVG\n     *\n     * @param {string[]} colors - Specifies the colors required to create radial gradient\n     * @param {string} name - Specifies the name of the gradient\n     * @param {RadialGradient} options - value for radial gradient\n     * @returns {string} It returns color name\n     */\n    SvgRenderer.prototype.createRadialGradient = function (colors, name, options) {\n        var colorName;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            var newOptions = {\n                'id': this.rootId + '_' + name + 'radialGradient',\n                'cx': options.cx + '%',\n                'cy': options.cy + '%',\n                'r': options.r + '%',\n                'fx': options.fx + '%',\n                'fy': options.fy + '%'\n            };\n            this.drawGradient('radialGradient', newOptions, colors);\n            colorName = 'url(#' + this.rootId + '_' + name + 'radialGradient)';\n        }\n        else {\n            colorName = colors[0].color.toString();\n        }\n        return colorName;\n    };\n    /**\n     * To create linear gradient in SVG\n     *\n     * @param {GradientColor[]} colors - Array of string specifies the values for color\n     * @param {string} name - Specifies the name of the gradient\n     * @param {LinearGradient} options - Specifies the options for gradient\n     * @returns {string} It returns color name\n     */\n    SvgRenderer.prototype.createLinearGradient = function (colors, name, options) {\n        var colorName;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            var newOptions = {\n                'id': this.rootId + '_' + name + 'linearGradient',\n                'x1': options.x1 + '%',\n                'y1': options.y1 + '%',\n                'x2': options.x2 + '%',\n                'y2': options.y2 + '%'\n            };\n            this.drawGradient('linearGradient', newOptions, colors);\n            colorName = 'url(#' + this.rootId + '_' + name + 'linearGradient)';\n        }\n        else {\n            colorName = colors[0].color.toString();\n        }\n        return colorName;\n    };\n    /**\n     * To render the gradient element in SVG\n     *\n     * @param {string} gradientType - Specifies the type of the gradient\n     * @param {RadialGradient | LinearGradient} options - Options required to render a gradient\n     * @param {string[]} colors - Array of string specifies the values for color\n     * @returns {Element} It returns a appropriate element\n     */\n    SvgRenderer.prototype.drawGradient = function (gradientType, options, colors) {\n        var defs = this.createDefs();\n        var gradient = document.createElementNS(this.svgLink, gradientType);\n        gradient = this.setElementAttributes(options, gradient);\n        for (var i = 0; i < colors.length; i++) {\n            var stop_1 = document.createElementNS(this.svgLink, 'stop');\n            stop_1.setAttribute('offset', colors[i].colorStop);\n            stop_1.setAttribute('stop-color', colors[i].color);\n            stop_1.setAttribute('stop-opacity', colors[i].opacity ? (colors[i].opacity) : '1');\n            if (!isNullOrUndefined(colors[i].style)) {\n                stop_1.style.cssText = colors[i].style;\n            }\n            gradient.appendChild(stop_1);\n        }\n        defs.appendChild(gradient);\n        return defs;\n    };\n    /**\n     * To render a clip path\n     *\n     * @param {BaseAttibutes} options - Options required to render a clip path\n     * @returns {Element} It returns a appropriate element\n     */\n    SvgRenderer.prototype.drawClipPath = function (options) {\n        var defs = this.createDefs();\n        var clipPath = this.createClipPath({ 'id': options.id });\n        options.id = options.id + '_Rect';\n        var rect = this.drawRectangle(options);\n        clipPath.appendChild(rect);\n        defs.appendChild(clipPath);\n        return defs;\n    };\n    /**\n     * To create circular clip path in SVG\n     *\n     * @param {CircleAttributes} options - Options required to create circular clip path\n     * @returns {Element} It returns a appropriate element\n     */\n    SvgRenderer.prototype.drawCircularClipPath = function (options) {\n        var defs = this.createDefs();\n        var clipPath = this.createClipPath({ 'id': options.id });\n        options.id = options.id + '_Circle';\n        var circle = this.drawCircle(options);\n        clipPath.appendChild(circle);\n        defs.appendChild(clipPath);\n        return defs;\n    };\n    /**\n     * To set the attributes to the element\n     *\n     * @param {SVGCanvasAttributes} options - Attributes to set for the element\n     * @param {Element} element - The element to which the attributes need to be set\n     * @returns {Element} It returns a appropriate element\n     */\n    SvgRenderer.prototype.setElementAttributes = function (options, element) {\n        var keys = Object.keys(options);\n        for (var i = 0; i < keys.length; i++) {\n            if (keys[i] === 'style') {\n                element.style.cssText = options[keys[i]];\n            }\n            else {\n                element.setAttribute(keys[i], options[keys[i]]);\n            }\n        }\n        return element;\n    };\n    /**\n     * To create a Html5 canvas element\n     * Dummy method for using canvas/svg render in the same variable name in chart control\n     */\n    SvgRenderer.prototype.createCanvas = function () {\n        return null;\n    };\n    return SvgRenderer;\n}());\nexport { SvgRenderer };\n","/* eslint-disable no-case-declarations */\n/* eslint-disable jsdoc/require-returns */\n/* eslint-disable valid-jsdoc */\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/**\n * To import utils.\n */\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * @private\n */\nvar CanvasRenderer = /** @class */ (function () {\n    /* End-Properties */\n    function CanvasRenderer(rootID) {\n        this.rootId = rootID;\n    }\n    // method to get the attributes value\n    // tslint:disable-next-line:no-any\n    CanvasRenderer.prototype.getOptionValue = function (options, key) {\n        return options[key];\n    };\n    /* tslint:enable */\n    /**\n     * To create a Html5 canvas element\n     *\n     * @param {BaseAttibutes} options - Options to create canvas\n     * @returns {HTMLCanvasElement} Creating a canvas\n     */\n    CanvasRenderer.prototype.createCanvas = function (options) {\n        var canvasObj = document.createElement('canvas');\n        canvasObj.setAttribute('id', this.rootId + '_canvas');\n        this.ctx = canvasObj.getContext('2d');\n        this.canvasObj = canvasObj;\n        this.setCanvasSize(options.width, options.height);\n        return this.canvasObj;\n    };\n    /**\n     * To set the width and height for the Html5 canvas element\n     *\n     * @param {number} width - width of the canvas\n     * @param {number} height - height of the canvas\n     * @returns {void} Setting canvas size\n     */\n    CanvasRenderer.prototype.setCanvasSize = function (width, height) {\n        var element = document.getElementById(this.rootId);\n        var size = !isNullOrUndefined(element) ? element.getBoundingClientRect() : null;\n        if (isNullOrUndefined(this.width)) {\n            this.canvasObj.setAttribute('width', width ? width.toString() : size.width.toString());\n        }\n        else {\n            this.canvasObj.setAttribute('width', this.width.toString());\n        }\n        if (isNullOrUndefined(this.height)) {\n            this.canvasObj.setAttribute('height', height ? height.toString() : '450');\n        }\n        else {\n            this.canvasObj.setAttribute('height', this.height.toString());\n        }\n    };\n    // To set the values to the attributes\n    CanvasRenderer.prototype.setAttributes = function (options) {\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        var dashArray = this.getOptionValue(options, 'stroke-dasharray');\n        if (!isNullOrUndefined(dashArray)) {\n            var dashArrayString = dashArray.split(',');\n            this.ctx.setLineDash([parseInt(dashArrayString[0], 10), parseInt(dashArrayString[1], 10)]);\n        }\n        this.ctx.strokeStyle = this.getOptionValue(options, 'stroke');\n    };\n    /**\n     * To draw a line\n     *\n     * @param {LineAttributes} options - required options to draw a line on the canvas\n     * @returns {void} To draw a line\n     */\n    CanvasRenderer.prototype.drawLine = function (options) {\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        this.ctx.strokeStyle = options.stroke;\n        this.ctx.moveTo(options.x1, options.y1);\n        this.ctx.lineTo(options.x2, options.y2);\n        this.ctx.stroke();\n        this.ctx.restore();\n    };\n    /**\n     * To draw a rectangle\n     *\n     * @param {RectAttributes} options - required options to draw a rectangle on the canvas.\n     * @param {Int32Array} canvasTranslate TO get a translate value of canvas.\n     * @returns {void} To draw rectangle.\n     */\n    CanvasRenderer.prototype.drawRectangle = function (options, canvasTranslate) {\n        var canvasCtx = this.ctx;\n        var cornerRadius = options.rx;\n        this.ctx.save();\n        this.ctx.beginPath();\n        if (canvasTranslate) {\n            this.ctx.translate(canvasTranslate[0], canvasTranslate[1]);\n        }\n        this.ctx.globalAlpha = this.getOptionValue(options, 'opacity');\n        this.setAttributes(options);\n        this.ctx.rect(options.x, options.y, options.width, options.height);\n        if (cornerRadius !== null && cornerRadius >= 0) {\n            this.drawCornerRadius(options);\n        }\n        else {\n            if (options.fill === 'none') {\n                options.fill = 'transparent';\n            }\n            this.ctx.fillStyle = options.fill;\n            this.ctx.fillRect(options.x, options.y, options.width, options.height);\n            this.ctx.stroke();\n        }\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        return (this.canvasObj);\n    };\n    // To draw the corner of a rectangle\n    CanvasRenderer.prototype.drawCornerRadius = function (options) {\n        var cornerRadius = options.rx;\n        var x = options.x;\n        var y = options.y;\n        var width = options.width;\n        var height = options.height;\n        if (options.fill === 'none') {\n            options.fill = 'transparent';\n        }\n        this.ctx.fillStyle = options.fill;\n        if (width < 2 * cornerRadius) {\n            cornerRadius = width / 2;\n        }\n        if (height < 2 * cornerRadius) {\n            cornerRadius = height / 2;\n        }\n        this.ctx.beginPath();\n        this.ctx.moveTo(x + width - cornerRadius, y);\n        this.ctx.arcTo(x + width, y, x + width, y + height, cornerRadius);\n        this.ctx.arcTo(x + width, y + height, x, y + height, cornerRadius);\n        this.ctx.arcTo(x, y + height, x, y, cornerRadius);\n        this.ctx.arcTo(x, y, x + width, y, cornerRadius);\n        this.ctx.closePath();\n        this.ctx.fill();\n        this.ctx.stroke();\n    };\n    /**\n     * To draw a path on the canvas\n     *\n     * @param {PathAttributes} options - options needed to draw path.\n     * @param {Int32Array} canvasTranslate - Array of numbers to translate the canvas.\n     * @returns {Element} To draw a path.\n     */\n    CanvasRenderer.prototype.drawPath = function (options, canvasTranslate) {\n        var path = options.d;\n        var dataSplit = path.split(' ');\n        var borderWidth = this.getOptionValue(options, 'stroke-width');\n        var canvasCtx = this.ctx;\n        var flag = true;\n        this.ctx.save();\n        this.ctx.beginPath();\n        if (canvasTranslate) {\n            this.ctx.translate(canvasTranslate[0], canvasTranslate[1]);\n        }\n        this.ctx.globalAlpha = options.opacity ? options.opacity : this.getOptionValue(options, 'fill-opacity');\n        this.setAttributes(options);\n        for (var i = 0; i < dataSplit.length; i = i + 3) {\n            var x1 = parseFloat(dataSplit[i + 1]);\n            var y1 = parseFloat(dataSplit[i + 2]);\n            switch (dataSplit[i]) {\n                case 'M':\n                    if (!options.innerR && !options.cx) {\n                        this.ctx.moveTo(x1, y1);\n                    }\n                    break;\n                case 'L':\n                    if (!options.innerR) {\n                        this.ctx.lineTo(x1, y1);\n                    }\n                    break;\n                case 'Q':\n                    var q1 = parseFloat(dataSplit[i + 3]);\n                    var q2 = parseFloat(dataSplit[i + 4]);\n                    this.ctx.quadraticCurveTo(x1, y1, q1, q2);\n                    i = i + 2;\n                    break;\n                case 'C':\n                    var c1 = parseFloat(dataSplit[i + 3]);\n                    var c2 = parseFloat(dataSplit[i + 4]);\n                    var c3 = parseFloat(dataSplit[i + 5]);\n                    var c4 = parseFloat(dataSplit[i + 6]);\n                    this.ctx.bezierCurveTo(x1, y1, c1, c2, c3, c4);\n                    i = i + 4;\n                    break;\n                case 'A':\n                    if (!options.innerR) {\n                        if (options.cx) {\n                            this.ctx.arc(options.cx, options.cy, options.radius, 0, 2 * Math.PI, options.counterClockWise);\n                        }\n                        else {\n                            this.ctx.moveTo(options.x, options.y);\n                            this.ctx.arc(options.x, options.y, options.radius, options.start, options.end, options.counterClockWise);\n                            this.ctx.lineTo(options.x, options.y);\n                        }\n                    }\n                    else if (flag) {\n                        this.ctx.arc(options.x, options.y, options.radius, options.start, options.end, options.counterClockWise);\n                        this.ctx.arc(options.x, options.y, options.innerR, options.end, options.start, !options.counterClockWise);\n                        flag = false;\n                    }\n                    i = i + 5;\n                    break;\n                case 'z':\n                case 'Z':\n                    this.ctx.closePath();\n                    //since for loop is incremented by 3, to get next value after 'z' i is decremented for 2.\n                    i = i - 2;\n                    break;\n            }\n        }\n        if (options.fill !== 'none' && options.fill !== undefined) {\n            this.ctx.fillStyle = options.fill;\n            this.ctx.fill();\n        }\n        if (borderWidth > 0) {\n            this.ctx.stroke();\n        }\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        return this.canvasObj;\n    };\n    /**\n     * To draw a text\n     *\n     * @param {TextAttributes} options - options required to draw text\n     * @param {string} label - Specifies the text which has to be drawn on the canvas\n     * @param {number} transX - Specifies the text of translate X\n     * @param {number} transY - Specifies the text of translate Y\n     * @param {number} dy - Specifies the text of translate dy\n     * @param {boolean} isTSpan - Specifies the boolean value of span value\n     * @returns {void}\n     */\n    CanvasRenderer.prototype.createText = function (options, label, transX, transY, dy, isTSpan) {\n        var fontWeight = this.getOptionValue(options, 'font-weight');\n        if (!isNullOrUndefined(fontWeight) && fontWeight.toLowerCase() === 'regular') {\n            fontWeight = 'normal';\n        }\n        var fontSize = this.getOptionValue(options, 'font-size');\n        var fontFamily = this.getOptionValue(options, 'font-family');\n        var fontStyle = this.getOptionValue(options, 'font-style').toLowerCase();\n        var font = (fontStyle + ' ' + fontWeight + ' ' + fontSize + ' ' + fontFamily);\n        var anchor = this.getOptionValue(options, 'text-anchor');\n        var opacity = options.opacity !== undefined ? options.opacity : 1;\n        if (anchor === 'middle') {\n            anchor = 'center';\n        }\n        this.ctx.save();\n        this.ctx.fillStyle = options.fill;\n        this.ctx.font = font;\n        this.ctx.textAlign = anchor;\n        this.ctx.globalAlpha = opacity;\n        if (options.baseline) {\n            this.ctx.textBaseline = options.baseline;\n        }\n        if (!isTSpan) {\n            var txtlngth = 0;\n            this.ctx.translate(options.x + (txtlngth / 2) + (transX ? transX : 0), options.y + (transY ? transY : 0));\n            this.ctx.rotate(options.labelRotation * Math.PI / 180);\n        }\n        this.ctx.fillText(label, isTSpan ? options.x : 0, isTSpan ? dy : 0);\n        this.ctx.restore();\n        return this.canvasObj;\n    };\n    /**\n     * To draw circle on the canvas\n     *\n     * @param {CircleAttributes} options - required options to draw the circle\n     * @param {Int32Array} canvasTranslate Translate value of canvas\n     * @returns {void}\n     */\n    CanvasRenderer.prototype.drawCircle = function (options, canvasTranslate) {\n        var canvasCtx = this.ctx;\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.arc(options.cx, options.cy, options.r, 0, 2 * Math.PI);\n        this.ctx.fillStyle = options.fill;\n        this.ctx.globalAlpha = options.opacity;\n        this.ctx.fill();\n        if (canvasTranslate) {\n            this.ctx.translate(canvasTranslate[0], canvasTranslate[1]);\n        }\n        this.setAttributes(options);\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        return this.canvasObj;\n    };\n    /**\n     * To draw polyline\n     *\n     * @param {PolylineAttributes} options - options needed to draw polyline\n     * @returns {void}\n     */\n    CanvasRenderer.prototype.drawPolyline = function (options) {\n        this.ctx.save();\n        this.ctx.beginPath();\n        var points = options.points.split(' ');\n        for (var i = 0; i < points.length - 1; i++) {\n            var point = points[i].split(',');\n            var x = parseFloat(point[0]);\n            var y = parseFloat(point[1]);\n            if (i === 0) {\n                this.ctx.moveTo(x, y);\n            }\n            else {\n                this.ctx.lineTo(x, y);\n            }\n        }\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        this.ctx.strokeStyle = options.stroke;\n        this.ctx.stroke();\n        this.ctx.restore();\n    };\n    /**\n     * To draw an ellipse on the canvas\n     *\n     * @param {EllipseAttributes} options - options needed to draw ellipse\n     * @param {Int32Array} canvasTranslate Translate value of canvas\n     * @returns {void}\n     */\n    CanvasRenderer.prototype.drawEllipse = function (options, canvasTranslate) {\n        var canvasCtx = this.ctx;\n        var circumference = Math.max(options.rx, options.ry);\n        var scaleX = options.rx / circumference;\n        var scaleY = options.ry / circumference;\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.translate(options.cx, options.cy);\n        if (canvasTranslate) {\n            this.ctx.translate(canvasTranslate[0], canvasTranslate[1]);\n        }\n        this.ctx.save();\n        this.ctx.scale(scaleX, scaleY);\n        this.ctx.arc(0, 0, circumference, 0, 2 * Math.PI, false);\n        this.ctx.fillStyle = options.fill;\n        this.ctx.fill();\n        this.ctx.restore();\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        this.ctx.strokeStyle = options.stroke;\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n    };\n    /**\n     * To draw an image\n     *\n     * @param {ImageAttributes} options - options required to draw an image on the canvas\n     * @returns {void}\n     */\n    CanvasRenderer.prototype.drawImage = function (options) {\n        this.ctx.save();\n        var imageObj = new Image();\n        if (!isNullOrUndefined(options.href)) {\n            imageObj.src = options.href;\n            this.ctx.drawImage(imageObj, options.x, options.y, options.width, options.height);\n        }\n        this.ctx.restore();\n    };\n    /**\n     * To create a linear gradient\n     *\n     * @param {string[]} colors - Specifies the colors required to create linear gradient\n     * @returns {string} It returns color\n     */\n    CanvasRenderer.prototype.createLinearGradient = function (colors) {\n        var myGradient;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            myGradient = this.ctx.createLinearGradient(0, 0, 0, this.canvasObj.height);\n        }\n        var color = this.setGradientValues(colors, myGradient);\n        return color;\n    };\n    /**\n     * To create a radial gradient\n     *\n     * @param {string[]} colors - Specifies the colors required to create linear gradient\n     * @returns {string} It returns gradient color\n     */\n    CanvasRenderer.prototype.createRadialGradient = function (colors) {\n        var myGradient;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            myGradient = this.ctx.createRadialGradient(0, 0, 0, 0, 0, this.canvasObj.height);\n        }\n        var colorName = this.setGradientValues(colors, myGradient);\n        return colorName;\n    };\n    // To set the gradient values\n    CanvasRenderer.prototype.setGradientValues = function (colors, myGradient) {\n        var colorName;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            for (var i = 0; i <= colors.length - 1; i++) {\n                var color = colors[i].color;\n                var newColorStop = (colors[i].colorStop).slice(0, -1);\n                var stopColor = parseInt(newColorStop, 10) / 100;\n                myGradient.addColorStop(stopColor, color);\n            }\n            colorName = myGradient.toString();\n        }\n        else {\n            colorName = colors[0].color.toString();\n        }\n        return colorName;\n    };\n    /**\n     * To set the attributes to the element\n     *\n     * @param {SVGCanvasAttributes} options - Attributes to set for the element\n     * @param {HTMLElement} element - The element to which the attributes need to be set\n     * @returns {HTMLElement} It returns null value\n     */\n    CanvasRenderer.prototype.setElementAttributes = function (options, element) {\n        var keys = Object.keys(options);\n        var values = Object.keys(options).map(function (key) { return options[key]; });\n        for (var i = 0; i < keys.length; i++) {\n            element.setAttribute(keys[i], values[i]);\n        }\n        return null;\n    };\n    /**\n     * To update the values of the canvas element attributes\n     *\n     * @param {SVGCanvasAttributes} options - Specifies the colors required to create gradient\n     * @returns {void}\n     */\n    CanvasRenderer.prototype.updateCanvasAttributes = function (options) {\n        this.setElementAttributes(options, this.canvasObj);\n        var ctx = this.ctx;\n        if (!isNullOrUndefined(this.dataUrl)) {\n            var img_1 = new Image;\n            img_1.onload = function () {\n                ctx.drawImage(img_1, 0, 0);\n            };\n            img_1.src = this.dataUrl;\n        }\n    };\n    /**\n     * This method clears the given rectangle region\n     *\n     * @param {Rect} rect The rect parameter as passed\n     */\n    CanvasRenderer.prototype.clearRect = function (rect) {\n        this.ctx.restore();\n        this.ctx.clearRect(rect.x, rect.y, rect.width, rect.height);\n    };\n    /**\n     * For canvas rendering in chart\n     * Dummy method for using canvas/svg render in the same variable name in chart control\n     */\n    CanvasRenderer.prototype.createGroup = function () {\n        return null;\n    };\n    /**\n     * To render a clip path\n     *\n     * Dummy method for using canvas/svg render in the same variable name in chart control\n     */\n    CanvasRenderer.prototype.drawClipPath = function () {\n        return null;\n    };\n    /**\n     * To render a Circular clip path\n     *\n     * Dummy method for using canvas/svg render in the same variable name in chart control\n     */\n    CanvasRenderer.prototype.drawCircularClipPath = function () {\n        return null;\n    };\n    /**\n     * Clip method to perform clip in canvas mode\n     *\n     * @param {BaseAttibutes} options The canvas clip of options\n     */\n    CanvasRenderer.prototype.canvasClip = function (options) {\n        this.ctx.save();\n        this.ctx.fillStyle = 'transparent';\n        this.ctx.rect(options.x, options.y, options.width, options.height);\n        this.ctx.fill();\n        this.ctx.clip();\n    };\n    /**\n     * Tp restore the canvas\n     */\n    CanvasRenderer.prototype.canvasRestore = function () {\n        this.ctx.restore();\n    };\n    /**\n     * To draw a polygon\n     * Dummy method for using canvas/svg render in the same variable name in chart control\n     */\n    CanvasRenderer.prototype.drawPolygon = function () {\n        return null;\n    };\n    /**\n     * To create defs element in SVG\n     * Dummy method for using canvas/svg render in the same variable name in chart control\n     *\n     * @returns {Element} It returns null\n     */\n    CanvasRenderer.prototype.createDefs = function () {\n        return null;\n    };\n    /**\n     * To create clip path in SVG\n     * Dummy method for using canvas/svg render in the same variable name in chart control\n     */\n    CanvasRenderer.prototype.createClipPath = function () {\n        return null;\n    };\n    /**\n     * To create a Html5 SVG element\n     * Dummy method for using canvas/svg render in the same variable name in chart control\n     *\n     * @returns {Element} It returns null\n     */\n    CanvasRenderer.prototype.createSvg = function () {\n        return null;\n    };\n    return CanvasRenderer;\n}());\nexport { CanvasRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable no-useless-escape */\n/* eslint-disable security/detect-non-literal-regexp */\n/* eslint-disable @typescript-eslint/ban-types */\n/* eslint-disable jsdoc/require-param */\n/* eslint-disable jsdoc/require-returns */\n/* eslint-disable valid-jsdoc */\nimport { NotifyPropertyChanges, Property, Event, Complex, updateBlazorTemplate } from '@syncfusion/ej2-base';\nimport { extend, compile as templateComplier, Component, resetBlazorTemplate, isBlazor, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { SvgRenderer } from '../svg-render/index';\nimport { ChildProperty, createElement, remove, Browser, Animation } from '@syncfusion/ej2-base';\nimport { getTooltipThemeColor } from './interface';\nimport { Size, Rect, Side, measureText, getElement, findDirection, drawSymbol, textElement } from './helper';\nimport { removeElement, TextOption, TooltipLocation, PathOption, withInAreaBounds } from './helper';\n/**\n * Configures the fonts in charts.\n *\n * @private\n */\nvar TextStyle = /** @class */ (function (_super) {\n    __extends(TextStyle, _super);\n    function TextStyle() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], TextStyle.prototype, \"size\", void 0);\n    __decorate([\n        Property('')\n    ], TextStyle.prototype, \"color\", void 0);\n    __decorate([\n        Property('Segoe UI')\n    ], TextStyle.prototype, \"fontFamily\", void 0);\n    __decorate([\n        Property('Normal')\n    ], TextStyle.prototype, \"fontWeight\", void 0);\n    __decorate([\n        Property('Normal')\n    ], TextStyle.prototype, \"fontStyle\", void 0);\n    __decorate([\n        Property(1)\n    ], TextStyle.prototype, \"opacity\", void 0);\n    return TextStyle;\n}(ChildProperty));\nexport { TextStyle };\n/**\n * Configures the borders in the chart.\n *\n * @private\n */\nvar TooltipBorder = /** @class */ (function (_super) {\n    __extends(TooltipBorder, _super);\n    function TooltipBorder() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], TooltipBorder.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], TooltipBorder.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], TooltipBorder.prototype, \"dashArray\", void 0);\n    return TooltipBorder;\n}(ChildProperty));\nexport { TooltipBorder };\n/**\n * Configures the borders in the chart.\n *\n * @private\n */\nvar AreaBounds = /** @class */ (function (_super) {\n    __extends(AreaBounds, _super);\n    function AreaBounds() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0)\n    ], AreaBounds.prototype, \"x\", void 0);\n    __decorate([\n        Property(0)\n    ], AreaBounds.prototype, \"y\", void 0);\n    __decorate([\n        Property(0)\n    ], AreaBounds.prototype, \"width\", void 0);\n    __decorate([\n        Property(0)\n    ], AreaBounds.prototype, \"height\", void 0);\n    return AreaBounds;\n}(ChildProperty));\nexport { AreaBounds };\n/**\n * Configures the borders in the chart.\n *\n * @private\n */\nvar ToolLocation = /** @class */ (function (_super) {\n    __extends(ToolLocation, _super);\n    function ToolLocation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0)\n    ], ToolLocation.prototype, \"x\", void 0);\n    __decorate([\n        Property(0)\n    ], ToolLocation.prototype, \"y\", void 0);\n    return ToolLocation;\n}(ChildProperty));\nexport { ToolLocation };\n/**\n * Represents the Tooltip control.\n * ```html\n * <div id=\"tooltip\"/>\n * <script>\n *   var tooltipObj = new Tooltip({ isResponsive : true });\n *   tooltipObj.appendTo(\"#tooltip\");\n * </script>\n * ```\n *\n * @private\n */\nvar Tooltip = /** @class */ (function (_super) {\n    __extends(Tooltip, _super);\n    /**\n     * Constructor for creating the widget\n     *\n     * @hidden\n     */\n    function Tooltip(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the event handler.\n     *\n     * @private\n     */\n    Tooltip.prototype.preRender = function () {\n        this.allowServerDataBinding = false;\n        this.initPrivateVariable();\n        if (!this.isCanvas) {\n            this.removeSVG();\n        }\n        this.createTooltipElement();\n    };\n    Tooltip.prototype.initPrivateVariable = function () {\n        this.renderer = new SvgRenderer(this.element.id);\n        this.themeStyle = getTooltipThemeColor(this.theme);\n        this.formattedText = [];\n        this.padding = 5;\n        this.highlightPadding = 3;\n        this.areaMargin = 10;\n        this.isFirst = true;\n        this.markerPoint = [];\n    };\n    Tooltip.prototype.removeSVG = function () {\n        var svgObject = document.getElementById(this.element.id + '_svg');\n        var templateObject = document.getElementById(this.element.id + 'parent_template');\n        if (this.blazorTemplate) {\n            resetBlazorTemplate(this.element.id + 'parent_template' + '_blazorTemplate');\n        }\n        if (svgObject && svgObject.parentNode) {\n            remove(svgObject);\n        }\n        if (templateObject && templateObject.parentNode) {\n            remove(templateObject);\n        }\n    };\n    /**\n     * To Initialize the control rendering.\n     */\n    Tooltip.prototype.render = function () {\n        this.fadeOuted = false;\n        if (!this.template) {\n            this.renderText(this.isFirst);\n            var argsData = {\n                cancel: false, name: 'tooltipRender', tooltip: this\n            };\n            this.trigger('tooltipRender', argsData);\n            var markerSide = this.renderTooltipElement(this.areaBounds, this.location);\n            this.drawMarker(markerSide.isBottom, markerSide.isRight, this.markerSize);\n        }\n        else {\n            this.updateTemplateFn();\n            this.createTemplate(this.areaBounds, this.location);\n        }\n        this.trigger('loaded', { tooltip: this });\n        var element = document.getElementById('chartmeasuretext');\n        if (element) {\n            remove(element);\n        }\n        this.allowServerDataBinding = true;\n    };\n    Tooltip.prototype.createTooltipElement = function () {\n        this.textElements = [];\n        if (!this.template || this.shared) {\n            // SVG element for tooltip\n            if (this.enableRTL) {\n                this.element.setAttribute('dir', 'ltr');\n            }\n            var svgObject = this.renderer.createSvg({ id: this.element.id + '_svg' });\n            this.element.appendChild(svgObject);\n            // Group to hold text and path.\n            var groupElement = document.getElementById(this.element.id + '_group');\n            if (!groupElement) {\n                groupElement = this.renderer.createGroup({ id: this.element.id + '_group' });\n                groupElement.setAttribute('transform', 'translate(0,0)');\n            }\n            svgObject.appendChild(groupElement);\n            var pathElement = this.renderer.drawPath({\n                'id': this.element.id + '_path', 'stroke-width': this.border.width,\n                'fill': this.fill || this.themeStyle.tooltipFill, 'opacity': ((this.theme === 'TailwindDark' || this.theme === 'Tailwind' || this.theme === 'Bootstrap5' || this.theme === 'Bootstrap5Dark') && this.opacity === 0.75) ?\n                    1 : this.opacity,\n                'stroke': this.border.color\n            });\n            groupElement.appendChild(pathElement);\n        }\n    };\n    Tooltip.prototype.drawMarker = function (isBottom, isRight, size) {\n        if (this.shapes.length <= 0) {\n            return null;\n        }\n        var shapeOption;\n        var count = 0;\n        var markerGroup = this.renderer.createGroup({ id: this.element.id + '_trackball_group' });\n        var groupElement = getElement(this.element.id + '_group');\n        var x = ((this.enableRTL) ? this.elementSize.width - (size / 2) :\n            (this.marginX * 2) + (size / 2)) + (isRight ? this.arrowPadding : 0);\n        for (var _i = 0, _a = this.shapes; _i < _a.length; _i++) {\n            var shape = _a[_i];\n            if (shape !== 'None') {\n                shapeOption = new PathOption(this.element.id + '_Trackball_' + count, this.palette[count], 1, '#cccccc', 1, null);\n                if (this.markerPoint[count]) {\n                    var padding = 0;\n                    if (this.header.indexOf('<br') > -1) {\n                        padding = this.header.split(/<br.*?>/g).length + count;\n                    }\n                    markerGroup.appendChild(drawSymbol(new TooltipLocation(x, this.markerPoint[count] - this.padding + (isBottom ? this.arrowPadding : padding)), shape, new Size(size, size), '', shapeOption, null));\n                }\n                count++;\n            }\n        }\n        groupElement.appendChild(markerGroup);\n    };\n    Tooltip.prototype.renderTooltipElement = function (areaBounds, location) {\n        var tooltipDiv = getElement(this.element.id);\n        var arrowLocation = new TooltipLocation(0, 0);\n        var tipLocation = new TooltipLocation(0, 0);\n        var svgObject = getElement(this.element.id + '_svg');\n        var groupElement = getElement(this.element.id + '_group');\n        var pathElement = getElement(this.element.id + '_path');\n        var rect;\n        var isTop = false;\n        var isLeft = false;\n        var isBottom = false;\n        var x = 0;\n        var y = 0;\n        if (this.header !== '') {\n            this.elementSize.height += this.marginY;\n        }\n        if (this.content.length > 1) {\n            rect = this.sharedTooltipLocation(areaBounds, this.location.x, this.location.y);\n            isTop = true;\n        }\n        else {\n            rect = this.tooltipLocation(areaBounds, location, arrowLocation, tipLocation);\n            if (!this.inverted) {\n                isTop = (rect.y < (location.y + this.clipBounds.y));\n                isBottom = !isTop;\n                y = (isTop ? 0 : this.arrowPadding);\n            }\n            else {\n                isLeft = (rect.x < (location.x + this.clipBounds.x));\n                x = (isLeft ? 0 : this.arrowPadding);\n                if (this.allowHighlight) {\n                    rect.x += isLeft ? this.highlightPadding : -(2 * this.highlightPadding);\n                }\n            }\n        }\n        if (this.header !== '') {\n            var wrapPadding = 2;\n            var padding = 0;\n            var wrapHeader = this.isWrap ? this.wrappedText : this.header;\n            if (this.isWrap && typeof (wrapHeader) === 'string' && (wrapHeader.indexOf('<') > -1 || wrapHeader.indexOf('>') > -1)) {\n                var textArray = wrapHeader.split('<br>');\n                wrapPadding = textArray.length;\n            }\n            if (this.header.indexOf('<br') > -1) {\n                padding = 5 * (this.header.split(/<br.*?>/g).length - 1);\n            }\n            var headerSize = measureText(this.isWrap ? this.wrappedText : this.header, this.textStyle).height +\n                (this.marginY * wrapPadding) + (isBottom ? this.arrowPadding : 0) + (this.isWrap ? 5 : padding); //header padding;\n            var xLength = (this.marginX * 3) + (!isLeft && !isTop && !isBottom ? this.arrowPadding : 0);\n            var direction = 'M ' + xLength + ' ' + headerSize +\n                'L ' + (rect.width + (!isLeft && !isTop && !isBottom ? this.arrowPadding : 0) - (this.marginX * 2)) +\n                ' ' + headerSize;\n            var pathElement_1 = this.renderer.drawPath({\n                'id': this.element.id + '_header_path', 'stroke-width': 1,\n                'fill': null, 'opacity': 0.8, 'stroke': this.themeStyle.tooltipHeaderLine, 'd': direction\n            });\n            groupElement.appendChild(pathElement_1);\n        }\n        var start = this.border.width / 2;\n        var pointRect = new Rect(start + x, start + y, rect.width - start, rect.height - start);\n        groupElement.setAttribute('opacity', '1');\n        if (this.enableAnimation && !this.isFirst && !this.crosshair) {\n            this.animateTooltipDiv(tooltipDiv, rect);\n        }\n        else {\n            this.updateDiv(tooltipDiv, rect.x, rect.y);\n        }\n        // eslint-disable-next-line no-extra-boolean-cast\n        svgObject.setAttribute('height', (rect.height + this.border.width + (!((!this.inverted)) ? 0 : this.arrowPadding) + 5).toString());\n        svgObject.setAttribute('width', (rect.width + this.border.width + (((!this.inverted)) ? 0 : this.arrowPadding) + 5).toString());\n        svgObject.setAttribute('opacity', '1');\n        if (!isNullOrUndefined(this.tooltipPlacement)) {\n            isTop = this.tooltipPlacement.indexOf('Top') > -1;\n            isBottom = this.tooltipPlacement.indexOf('Bottom') > -1;\n            isLeft = this.tooltipPlacement.indexOf('Left') > -1;\n        }\n        pathElement.setAttribute('d', findDirection(this.rx, this.ry, pointRect, arrowLocation, this.arrowPadding, isTop, isBottom, isLeft, tipLocation.x, tipLocation.y, this.controlName));\n        if (this.enableShadow && this.theme !== 'Bootstrap4') {\n            // To fix next chart initial tooltip opacity issue in tab control\n            var shadowId = this.element.id + '_shadow';\n            if (this.theme === 'Tailwind' || this.theme === 'TailwindDark'\n                || this.theme === 'Bootstrap5' || this.theme === 'Bootstrap5Dark') {\n                pathElement.setAttribute('box-shadow', '0px 1px 2px rgba(0, 0, 0, 0.06), 0px 1px 3px rgba(0, 0, 0, 0.1)');\n            }\n            else {\n                pathElement.setAttribute('filter', Browser.isIE ? '' : 'url(#' + shadowId + ')');\n            }\n            var shadow = '<filter id=\"' + shadowId + '\" height=\"130%\"><feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"3\"/>';\n            shadow += '<feOffset dx=\"3\" dy=\"3\" result=\"offsetblur\"/><feComponentTransfer><feFuncA type=\"linear\" slope=\"0.5\"/>';\n            shadow += '</feComponentTransfer><feMerge><feMergeNode/><feMergeNode in=\"SourceGraphic\"/></feMerge></filter>';\n            var defElement = this.renderer.createDefs();\n            defElement.setAttribute('id', this.element.id + 'SVG_tooltip_definition');\n            groupElement.appendChild(defElement);\n            defElement.innerHTML = shadow;\n        }\n        var borderColor = this.theme === 'Fluent' ? '#FFFFFF' : this.theme === 'FluentDark' ? '#323130' : this.border.color;\n        pathElement.setAttribute('stroke', borderColor);\n        if (!isNullOrUndefined(this.border.dashArray)) {\n            pathElement.setAttribute('stroke-dasharray', this.border.dashArray);\n        }\n        this.changeText(new TooltipLocation(x, y), isBottom, !isLeft && !isTop && !isBottom);\n        if (this.revert) {\n            this.inverted = !this.inverted;\n            this.revert = false;\n        }\n        return new Side(isBottom, !isLeft && !isTop && !isBottom);\n    };\n    Tooltip.prototype.changeText = function (point, isBottom, isRight) {\n        var element = document.getElementById(this.element.id + '_text');\n        if (isBottom) {\n            element.setAttribute('transform', 'translate(0,' + this.arrowPadding + ')');\n        }\n        if (isRight) {\n            element.setAttribute('transform', 'translate(' + this.arrowPadding + ' 0)');\n        }\n    };\n    Tooltip.prototype.findFormattedText = function () {\n        this.formattedText = [];\n        if (this.header.replace(/<b>/g, '').replace(/<\\/b>/g, '').trim() !== '') {\n            this.formattedText = this.formattedText.concat(this.header);\n        }\n        this.formattedText = this.formattedText.concat(this.content);\n    };\n    // tslint:disable-next-line:max-func-body-length\n    Tooltip.prototype.renderText = function (isRender) {\n        var height = 0;\n        var width = 0; // Padding for text;\n        var subWidth = 0;\n        var lines;\n        var key = 'properties';\n        var font = extend({}, this.textStyle, null, true)[key];\n        var groupElement = getElement(this.element.id + '_group');\n        var tspanElement;\n        var textCollection;\n        var tspanStyle = '';\n        var line;\n        var tspanOption;\n        this.findFormattedText();\n        this.isWrap = false;\n        var isRtlEnabled = document.body.getAttribute('dir') === 'rtl';\n        var anchor = isRtlEnabled && !this.enableRTL ? 'end' : 'start';\n        this.leftSpace = this.areaBounds.x + this.location.x;\n        this.rightSpace = (this.areaBounds.x + this.areaBounds.width) - this.leftSpace;\n        var headerContent = this.header.replace(/<b>/g, '').replace(/<\\/b>/g, '').trim();\n        var isBoldTag = this.header.indexOf('<b>') > -1 && this.header.indexOf('</b>') > -1;\n        var headerWidth = measureText(this.formattedText[0], font).width + (2 * this.marginX) + this.arrowPadding;\n        var isLeftSpace = (this.location.x - headerWidth) < this.location.x;\n        var isRightSpace = (this.areaBounds.x + this.areaBounds.width) < (this.location.x + headerWidth);\n        var header;\n        var headerSpace = (headerContent !== '') ? this.marginY : 0;\n        var isRow = true;\n        var isColumn = true;\n        this.markerPoint = [];\n        var markerSize = (this.shapes.length > 0) ? 10 : 0;\n        var markerPadding = (this.shapes.length > 0) ? 5 : 0;\n        var spaceWidth = 4;\n        var subStringLength;\n        var fontSize = '13px';\n        var fontWeight = 'Normal';\n        var labelColor = this.themeStyle.tooltipLightLabel;\n        var dy = (22 / parseFloat(fontSize)) * (parseFloat(font.size));\n        var contentWidth = [];\n        if (!isRender || this.isCanvas) {\n            removeElement(this.element.id + '_text');\n            removeElement(this.element.id + '_header_path');\n            removeElement(this.element.id + '_trackball_group');\n            removeElement(this.element.id + 'SVG_tooltip_definition');\n        }\n        var options = new TextOption(this.element.id + '_text', this.marginX * 2, (this.marginY * 2 + this.padding * 2 + (this.marginY === 2 ? 3 : 0)), anchor, '');\n        var parentElement = textElement(options, font, null, groupElement);\n        var withoutHeader = this.formattedText.length === 1 && this.formattedText[0].indexOf(' : <b>') > -1;\n        var isHeader = this.header !== '';\n        var size = isHeader && isBoldTag ? 16 : 13;\n        for (var k = 0, pointsLength = this.formattedText.length; k < pointsLength; k++) {\n            textCollection = this.formattedText[k].replace(/<(b|strong)>/g, '<b>')\n                .replace(/<\\/(b|strong)>/g, '</b>')\n                .split(/<br.*?>/g);\n            if (this.isTextWrap && this.header !== this.formattedText[k] && this.formattedText[k].indexOf('<br') === -1) {\n                subStringLength = Math.round(this.leftSpace > this.rightSpace ? (this.leftSpace / size) : (this.rightSpace / size));\n                textCollection = this.formattedText[k].match(new RegExp('.{1,' + subStringLength + '}', 'g'));\n            }\n            if (k === 0 && !withoutHeader && this.isTextWrap &&\n                (this.leftSpace < headerWidth || isLeftSpace) &&\n                (this.rightSpace < headerWidth || isRightSpace)) {\n                subStringLength = Math.round(this.leftSpace > this.rightSpace ? (this.leftSpace / size) : (this.rightSpace / size));\n                header = headerContent !== '' ? headerContent : this.formattedText[k];\n                textCollection = header.match(new RegExp('.{1,' + subStringLength + '}', 'g'));\n                this.wrappedText = isBoldTag ? '<b>' + textCollection.join('<br>') + '</b>' : textCollection.join('<br>');\n                this.isWrap = textCollection.length > 1;\n            }\n            if (textCollection[0] === '') {\n                continue;\n            }\n            if ((k !== 0) || (headerContent === '')) {\n                this.markerPoint.push((headerContent !== '' ? (this.marginY) : 0) + options.y + height);\n            }\n            for (var i = 0, len = textCollection.length; i < len; i++) { // string value of unicode for LTR is \\u200E\n                lines = textCollection[i].replace(/<b>/g, '<br><b>').replace(/<\\/b>/g, '</b><br>').replace(/:/g, (this.enableRTL) ? '<br>\\u200E: <br>' : '<br>\\u200E:<br>')\n                    .split('<br>');\n                if (this.enableRTL && lines.length > 0 && textCollection[i].match(/:/g)) {\n                    lines[0] = lines[0].trim();\n                    lines.reverse();\n                }\n                subWidth = 0;\n                isColumn = true;\n                height += dy;\n                for (var j = 0, len_1 = lines.length; j < len_1; j++) {\n                    line = lines[j];\n                    if (this.enableRTL && line !== '' && this.isRTLText(line)) {\n                        line = line.concat('\\u200E');\n                    }\n                    if (!/\\S/.test(line) && line !== '') {\n                        line = ' '; //to trim multiple white spaces to single white space\n                    }\n                    if ((!isColumn && line === ' ') || (line.replace(/<b>/g, '').replace(/<\\/b>/g, '').trim() !== '')) {\n                        subWidth += line !== ' ' ? spaceWidth : 0;\n                        if (isColumn && !isRow) {\n                            if (this.header.indexOf('<br') > -1 && k !== 0) {\n                                headerSpace += this.header.split(/<br.*?>/g).length;\n                            }\n                            tspanOption = {\n                                x: (this.marginX * 2) + (markerSize + markerPadding),\n                                dy: dy + ((isColumn) ? headerSpace : 0), fill: ''\n                            };\n                            headerSpace = null;\n                        }\n                        else {\n                            if (isRow && isColumn) {\n                                tspanOption = {\n                                    x: (headerContent === '') ? ((this.marginX * 2) + (markerSize + markerPadding))\n                                        : (this.marginX * 2) + (this.isWrap ? (markerSize + markerPadding) : 0)\n                                };\n                            }\n                            else {\n                                tspanOption = {};\n                            }\n                        }\n                        isColumn = false;\n                        tspanElement = this.renderer.createTSpan(tspanOption, '');\n                        parentElement.appendChild(tspanElement);\n                        if (line.indexOf('<b>') > -1 || ((isBoldTag && j === 0 && k === 0) && (isHeader || this.isWrap))) {\n                            fontWeight = 'bold';\n                            labelColor = this.themeStyle.tooltipBoldLabel;\n                            tspanStyle = 'font-weight:' + fontWeight;\n                            font.fontWeight = fontWeight;\n                            (tspanElement).setAttribute('fill', this.textStyle.color || labelColor);\n                        }\n                        else {\n                            tspanStyle = fontWeight === 'bold' ? 'font-weight:' + fontWeight : '';\n                            font.fontWeight = fontWeight;\n                            (tspanElement).setAttribute('fill', this.textStyle.color || labelColor);\n                        }\n                        if (line.indexOf('</b>') > -1 || ((isBoldTag && j === len_1 - 1 && k === 0) && (isHeader || this.isWrap))) {\n                            fontWeight = 'Normal';\n                            labelColor = this.themeStyle.tooltipLightLabel;\n                        }\n                        // eslint-disable-next-line no-useless-escape\n                        (tspanElement).textContent = line = this.getTooltipTextContent(line);\n                        subWidth += measureText(line, font).width;\n                        if (tspanStyle !== '') {\n                            tspanElement.style.fontWeight = tspanStyle.split('font-weight:')[1];\n                            tspanElement.style.color = tspanElement.getAttribute('fill');\n                        }\n                        // 'inherit' will apply css style from parent element.\n                        tspanElement.style.fontFamily = 'inherit';\n                        tspanElement.style.fontStyle = 'inherit';\n                        tspanElement.style.fontSize = 'inherit';\n                        isRow = false;\n                    }\n                }\n                subWidth -= spaceWidth;\n                width = Math.max(width, subWidth);\n                contentWidth.push(subWidth);\n            }\n        }\n        this.elementSize = new Size(width + (width > 0 ? (2 * this.marginX) : 0), height);\n        this.elementSize.width += (markerSize + markerPadding); // marker size + marker Spacing\n        var element = (parentElement.childNodes[0]);\n        if (headerContent !== '' && element && !this.isWrap) {\n            font.fontWeight = 'bold';\n            var width_1 = (this.elementSize.width + (2 * this.padding)) / 2 - measureText(headerContent, font).width / 2;\n            element.setAttribute('x', width_1.toString());\n        }\n        this.renderContentRTL(parentElement, isHeader, markerSize + markerPadding, contentWidth);\n    };\n    Tooltip.prototype.renderContentRTL = function (textElement, isHeader, markerSize, contentWidth) {\n        if (this.enableRTL) {\n            var tspanElement = void 0;\n            var contentWidthIndex = isHeader ? 1 : 0;\n            for (var i = 0; i < textElement.childNodes.length; i++) {\n                tspanElement = (textElement.childNodes[i]);\n                if ((!isHeader || i > 0) && !isNullOrUndefined(tspanElement.getAttribute('x'))) {\n                    tspanElement.setAttribute('x', (this.elementSize.width - (markerSize + contentWidth[contentWidthIndex])).toString());\n                    contentWidthIndex++;\n                }\n            }\n        }\n    };\n    Tooltip.prototype.getTooltipTextContent = function (tooltipText) {\n        var characterCollection = tooltipText.match(/<[a-zA-Z\\/](.|\\n)*?>/g);\n        if (isNullOrUndefined(characterCollection)) {\n            return tooltipText;\n        }\n        var isRtlText = this.isRTLText(tooltipText);\n        for (var i = 0; i < characterCollection.length; i++) {\n            if (this.isValidHTMLElement(characterCollection[i].replace('<', '').replace('/', '').replace('>', '').trim())) {\n                tooltipText = tooltipText.replace(characterCollection[i], isRtlText ? '\\u200E' : '');\n            }\n        }\n        return tooltipText;\n    };\n    Tooltip.prototype.isValidHTMLElement = function (element) {\n        return document.createElement(element).toString() !== '[object HTMLUnknownElement]';\n    };\n    Tooltip.prototype.isRTLText = function (tooltipContent) {\n        return /[\\u0590-\\u07FF\\u200F\\u202B\\u202E\\uFB1D-\\uFDFD\\uFE70-\\uFEFC]/.test(tooltipContent);\n    };\n    Tooltip.prototype.createTemplate = function (areaBounds, location) {\n        var argsData = { cancel: false, name: 'tooltipRender', tooltip: this };\n        this.trigger('tooltipRender', argsData);\n        var parent = document.getElementById(this.element.id);\n        if (this.isCanvas) {\n            this.removeSVG();\n        }\n        var firstElement = parent.firstElementChild;\n        if (firstElement) {\n            remove(firstElement);\n        }\n        if (!argsData.cancel) {\n            var elem = createElement('div', { id: this.element.id + 'parent_template' });\n            var templateElement = this.templateFn(this.data, this.controlInstance, elem.id, elem.id + '_blazorTemplate', '');\n            while (templateElement && templateElement.length > 0) {\n                if (isBlazor() || templateElement.length === 1) {\n                    elem.appendChild(templateElement[0]);\n                    templateElement = null;\n                }\n                else {\n                    elem.appendChild(templateElement[0]);\n                }\n            }\n            parent.appendChild(elem);\n            var element = this.isCanvas ? elem : this.element;\n            var rect = element.getBoundingClientRect();\n            this.padding = 0;\n            this.elementSize = new Size(rect.width, rect.height);\n            var tooltipRect = this.shared ? this.sharedTooltipLocation(areaBounds, this.location.x, this.location.y)\n                : this.tooltipLocation(areaBounds, location, new TooltipLocation(0, 0), new TooltipLocation(0, 0));\n            if (this.enableAnimation && !this.isFirst && !this.crosshair) {\n                this.animateTooltipDiv(this.element, tooltipRect);\n            }\n            else {\n                this.updateDiv(element, tooltipRect.x, tooltipRect.y);\n            }\n            if (this.blazorTemplate) {\n                //Customer issue - F149037  Call back function to handle the blazor tooltip alignment issues\n                var tooltipRendered = function () {\n                    var rect1 = getElement(thisObject_1.element.id).getBoundingClientRect();\n                    thisObject_1.elementSize = new Size(rect1.width, rect1.height);\n                    var tooltipRect1 = thisObject_1.tooltipLocation(areaBounds, location, new TooltipLocation(0, 0), new TooltipLocation(0, 0));\n                    thisObject_1.updateDiv(getElement(thisObject_1.element.id), tooltipRect1.x, tooltipRect1.y);\n                };\n                // eslint-disable-next-line @typescript-eslint/no-this-alias\n                var thisObject_1 = this;\n                tooltipRendered.bind(thisObject_1, areaBounds, location);\n                updateBlazorTemplate(this.element.id + 'parent_template' + '_blazorTemplate', this.blazorTemplate.name, this.blazorTemplate.parent, undefined, tooltipRendered);\n            }\n        }\n        else {\n            remove(getElement(this.element.id + '_tooltip'));\n        }\n    };\n    Tooltip.prototype.sharedTooltipLocation = function (bounds, x, y) {\n        var width = this.elementSize.width + (2 * this.marginX);\n        var height = this.elementSize.height + (2 * this.marginY);\n        var tooltipRect = new Rect(x + 2 * this.padding, y - height - this.padding, width, height);\n        if (tooltipRect.y < bounds.y) {\n            tooltipRect.y += (tooltipRect.height + 2 * this.padding);\n        }\n        if (tooltipRect.x + tooltipRect.width > bounds.x + bounds.width) {\n            tooltipRect.x -= (tooltipRect.width + 4 * this.padding);\n        }\n        if (tooltipRect.x < bounds.x) {\n            tooltipRect.x = bounds.x;\n        }\n        return tooltipRect;\n    };\n    Tooltip.prototype.getCurrentPosition = function (bounds, symbolLocation, arrowLocation, tipLocation) {\n        var position = this.tooltipPlacement;\n        var clipX = this.clipBounds.x;\n        var clipY = this.clipBounds.y;\n        var markerHeight = this.offset;\n        var width = this.elementSize.width + (2 * this.marginX);\n        var height = this.elementSize.height + (2 * this.marginY);\n        var location = new TooltipLocation(symbolLocation.x, symbolLocation.y);\n        if (position === 'Top' || position === 'Bottom') {\n            location = new TooltipLocation(location.x + clipX - this.elementSize.width / 2 - this.padding, location.y + clipY - this.elementSize.height - (2 * this.padding) - this.arrowPadding - markerHeight);\n            arrowLocation.x = tipLocation.x = width / 2;\n            if (position === 'Bottom') {\n                location.y = symbolLocation.y + clipY + markerHeight;\n            }\n            if (bounds.x + bounds.width < location.x + width) {\n                location.x = (bounds.width > width) ? ((bounds.x + bounds.width) - width + 6) : bounds.x;\n                arrowLocation.x = tipLocation.x = (bounds.width > width) ? (bounds.x + symbolLocation.x - location.x) : symbolLocation.x;\n            }\n            else if (bounds.x > location.x) {\n                location.x = bounds.x;\n                arrowLocation.x = tipLocation.x = symbolLocation.x;\n            }\n        }\n        else {\n            location = new TooltipLocation(location.x + clipX + markerHeight, location.y + clipY - this.elementSize.height / 2 - (this.padding));\n            arrowLocation.y = tipLocation.y = height / 2;\n            if (position === 'Left') {\n                location.x = symbolLocation.x + clipX - markerHeight - (width + this.arrowPadding);\n            }\n            if (bounds.y + bounds.height < location.y + height) {\n                location.y = (bounds.height > height) ? ((bounds.y + bounds.height) - height + 6) : bounds.y;\n                arrowLocation.y = tipLocation.y = (bounds.height > height) ? (bounds.y + symbolLocation.y - location.y) : symbolLocation.y;\n            }\n            else if (bounds.y > location.y) {\n                location.y = bounds.y;\n                arrowLocation.y = tipLocation.y = symbolLocation.y;\n            }\n        }\n        return new Rect(location.x, location.y, width, height);\n    };\n    // tslint:disable-next-line:max-func-body-length\n    Tooltip.prototype.tooltipLocation = function (bounds, symbolLocation, arrowLocation, tipLocation) {\n        if (!isNullOrUndefined(this.tooltipPlacement)) {\n            var tooltipRect = this.getCurrentPosition(bounds, symbolLocation, arrowLocation, tipLocation);\n            return tooltipRect;\n        }\n        var location = new TooltipLocation(symbolLocation.x, symbolLocation.y);\n        var width = this.elementSize.width + (2 * this.marginX);\n        var height = this.elementSize.height + (2 * this.marginY);\n        var markerHeight = this.offset;\n        var clipX = this.clipBounds.x;\n        var clipY = this.clipBounds.y;\n        var boundsX = bounds.x;\n        var boundsY = bounds.y;\n        this.outOfBounds = false;\n        if (!this.inverted) {\n            location = new TooltipLocation(location.x + clipX - this.elementSize.width / 2 - this.padding, location.y + clipY - this.elementSize.height - (2 * (this.allowHighlight ? this.highlightPadding : this.padding)) - this.arrowPadding - markerHeight);\n            arrowLocation.x = tipLocation.x = width / 2;\n            if ((location.y < boundsY || (this.isNegative)) && !(this.controlName === 'Progressbar')) {\n                location.y = (symbolLocation.y < 0 ? 0 : symbolLocation.y) + clipY + markerHeight;\n            }\n            if (location.y + height + this.arrowPadding > boundsY + bounds.height) {\n                location.y = Math.min(symbolLocation.y, boundsY + bounds.height) + clipY\n                    - this.elementSize.height - (2 * this.padding) - this.arrowPadding - markerHeight;\n            }\n            if (((location.x + width > boundsX + bounds.width) && location.y < boundsY || (this.isNegative)) && !(this.controlName === 'Progressbar')) {\n                location.y = (symbolLocation.y < 0 ? 0 : symbolLocation.y) + clipY + markerHeight;\n            }\n            tipLocation.x = width / 2;\n            if (location.x < boundsX && !(this.controlName === 'Progressbar')) {\n                arrowLocation.x -= (boundsX - location.x);\n                tipLocation.x -= (boundsX - location.x);\n                location.x = boundsX;\n            }\n            if (location.x + width > boundsX + bounds.width && !(this.controlName === 'Progressbar')) {\n                arrowLocation.x += ((location.x + width) - (boundsX + bounds.width));\n                tipLocation.x += ((location.x + width) - (boundsX + bounds.width));\n                location.x -= ((location.x + width) - (boundsX + bounds.width));\n            }\n            if (location.x < boundsX && !(this.controlName === 'Progressbar')) {\n                arrowLocation.x -= (boundsX - location.x);\n                tipLocation.x -= (boundsX - location.x);\n                location.x = boundsX;\n            }\n            if (arrowLocation.x + this.arrowPadding > width - this.rx) {\n                arrowLocation.x = width - this.rx - this.arrowPadding;\n                tipLocation.x = width - this.rx - this.arrowPadding;\n            }\n            if (arrowLocation.x - this.arrowPadding < this.rx) {\n                arrowLocation.x = tipLocation.x = this.rx + this.arrowPadding;\n            }\n            if (this.controlName === 'Chart') {\n                if (((bounds.x + bounds.width) - (location.x + arrowLocation.x)) < this.areaMargin + this.arrowPadding ||\n                    (location.x + arrowLocation.x) < this.areaMargin + this.arrowPadding) {\n                    this.outOfBounds = true;\n                }\n                if (!withInAreaBounds(location.x, location.y, bounds) || this.outOfBounds) {\n                    this.inverted = !this.inverted;\n                    this.revert = true;\n                    location = new TooltipLocation(symbolLocation.x + markerHeight + clipX, symbolLocation.y + clipY - this.elementSize.height / 2 - (this.padding));\n                    tipLocation.x = arrowLocation.x = 0;\n                    tipLocation.y = arrowLocation.y = height / 2;\n                    if ((location.x + this.arrowPadding + width > boundsX + bounds.width) || (this.isNegative)) {\n                        location.x = (symbolLocation.x > bounds.width ? bounds.width : symbolLocation.x)\n                            + clipX - markerHeight - (this.arrowPadding + width);\n                    }\n                    if (location.x < boundsX) {\n                        location.x = (symbolLocation.x < 0 ? 0 : symbolLocation.x) + markerHeight + clipX;\n                    }\n                    if (location.y <= boundsY) {\n                        tipLocation.y -= (boundsY - location.y);\n                        arrowLocation.y -= (boundsY - location.y);\n                        location.y = boundsY;\n                    }\n                    if (location.y + height >= bounds.height + boundsY) {\n                        arrowLocation.y += ((location.y + height) - (bounds.height + boundsY));\n                        tipLocation.y += ((location.y + height) - (bounds.height + boundsY));\n                        location.y -= ((location.y + height) - (bounds.height + boundsY));\n                    }\n                    if ((this.arrowPadding) + arrowLocation.y > height - this.ry) {\n                        arrowLocation.y = height - this.arrowPadding - this.ry;\n                        tipLocation.y = height;\n                    }\n                    if (arrowLocation.y - this.arrowPadding < this.ry) {\n                        arrowLocation.y = (this.arrowPadding) + this.ry;\n                        tipLocation.y = 0;\n                    }\n                }\n            }\n        }\n        else {\n            location = new TooltipLocation(location.x + clipX + markerHeight, location.y + clipY - this.elementSize.height / 2 - (this.padding));\n            arrowLocation.y = tipLocation.y = height / 2;\n            if ((location.x + width + this.arrowPadding > boundsX + bounds.width) || (this.isNegative)) {\n                location.x = (symbolLocation.x > bounds.width + bounds.x ? bounds.width : symbolLocation.x)\n                    + clipX - markerHeight - (width + this.arrowPadding);\n            }\n            if (location.x < boundsX) {\n                location.x = (symbolLocation.x < 0 ? 0 : symbolLocation.x) + clipX + markerHeight;\n            }\n            if ((location.x + width + this.arrowPadding > boundsX + bounds.width)) {\n                location.x = (symbolLocation.x > bounds.width + bounds.x ? bounds.width : symbolLocation.x)\n                    + clipX - markerHeight - (width + this.arrowPadding);\n            }\n            if (location.y <= boundsY) {\n                arrowLocation.y -= (boundsY - location.y);\n                tipLocation.y -= (boundsY - location.y);\n                location.y = boundsY;\n            }\n            if (location.y + height >= boundsY + bounds.height) {\n                arrowLocation.y += ((location.y + height) - (boundsY + bounds.height));\n                tipLocation.y += ((location.y + height) - (boundsY + bounds.height));\n                location.y -= ((location.y + height) - (boundsY + bounds.height));\n            }\n            if (arrowLocation.y + this.arrowPadding > height - this.ry) {\n                arrowLocation.y = height - this.ry - this.arrowPadding;\n                tipLocation.y = height;\n            }\n            if (arrowLocation.y - this.arrowPadding < this.ry) {\n                arrowLocation.y = tipLocation.y = this.ry + this.arrowPadding;\n            }\n            if (this.controlName === 'Chart') {\n                if ((location.y + arrowLocation.y) < this.areaMargin + this.arrowPadding ||\n                    ((bounds.y + bounds.height) - (location.y + arrowLocation.y)) < this.areaMargin + this.arrowPadding) {\n                    this.outOfBounds = true;\n                }\n                if (!withInAreaBounds(location.x, location.y, bounds) || this.outOfBounds) {\n                    this.inverted = !this.inverted;\n                    location = new TooltipLocation(symbolLocation.x + clipX - this.padding - this.elementSize.width / 2, symbolLocation.y + clipY - this.elementSize.height - (2 * this.padding) - markerHeight - this.arrowPadding);\n                    this.revert = true;\n                    tipLocation.x = arrowLocation.x = width / 2;\n                    tipLocation.y = arrowLocation.y = 0;\n                    if (location.y < boundsY || (this.isNegative)) {\n                        location.y = (symbolLocation.y < 0 ? 0 : symbolLocation.y) + markerHeight + clipY;\n                    }\n                    if (location.y + this.arrowPadding + height > boundsY + bounds.height) {\n                        location.y = Math.min(symbolLocation.y, boundsY + bounds.height) + clipY\n                            - this.elementSize.height - (2 * this.padding) - markerHeight - this.arrowPadding;\n                    }\n                    tipLocation.x = width / 2;\n                    if (location.x < boundsX) {\n                        tipLocation.x -= (boundsX - location.x);\n                        arrowLocation.x -= (boundsX - location.x);\n                        location.x = boundsX;\n                    }\n                    if (location.x + width > bounds.width + boundsX) {\n                        arrowLocation.x += ((location.x + width) - (bounds.width + boundsX));\n                        tipLocation.x += ((location.x + width) - (bounds.width + boundsX));\n                        location.x -= ((location.x + width) - (bounds.width + boundsX));\n                    }\n                    if ((this.arrowPadding) + arrowLocation.x > width - this.rx) {\n                        tipLocation.x = width - this.rx - (this.arrowPadding);\n                        arrowLocation.x = width - this.rx - (this.arrowPadding);\n                    }\n                    if (arrowLocation.x - (this.arrowPadding) < this.rx) {\n                        arrowLocation.x = tipLocation.x = this.rx + (this.arrowPadding);\n                    }\n                }\n            }\n        }\n        return new Rect(location.x, location.y, width, height);\n    };\n    Tooltip.prototype.animateTooltipDiv = function (tooltipDiv, rect) {\n        var _this = this;\n        var x = parseFloat(tooltipDiv.style.left);\n        var y = parseFloat(tooltipDiv.style.top);\n        var currenDiff;\n        new Animation({}).animate(tooltipDiv, {\n            duration: this.duration,\n            progress: function (args) {\n                currenDiff = (args.timeStamp / args.duration);\n                tooltipDiv.style.animation = null;\n                if ((_this.controlName === 'Chart' && _this.shared) && !_this.enableRTL) {\n                    tooltipDiv.style.transition = isBlazor() ? 'transform 0.3s' : 'transform 0.1s';\n                    tooltipDiv.style.transform = 'translate(' + (x + currenDiff * (rect.x - x)) + 'px,' + (y + currenDiff * (rect.y - y)) + 'px)';\n                }\n                else {\n                    tooltipDiv.style.left = (x + currenDiff * (rect.x - x)) + 'px';\n                    tooltipDiv.style.top = (y + currenDiff * (rect.y - y)) + 'px';\n                }\n            },\n            end: function (model) {\n                _this.updateDiv(tooltipDiv, rect.x, rect.y);\n                _this.trigger('animationComplete', { tooltip: _this });\n            }\n        });\n    };\n    Tooltip.prototype.updateDiv = function (tooltipDiv, x, y) {\n        if ((this.controlName === 'Chart' && this.shared && !this.crosshair) && !this.enableRTL) {\n            tooltipDiv.style.transform = 'translate(' + x + 'px,' + y + 'px)';\n        }\n        else {\n            tooltipDiv.style.left = x + 'px';\n            tooltipDiv.style.top = y + 'px';\n        }\n    };\n    Tooltip.prototype.updateTemplateFn = function () {\n        if (this.template) {\n            try {\n                if (document.querySelectorAll(this.template).length) {\n                    this.templateFn = templateComplier(document.querySelector(this.template).innerHTML.trim());\n                }\n                else {\n                    this.templateFn = templateComplier(this.template);\n                }\n            }\n            catch (e) {\n                this.templateFn = templateComplier(this.template);\n            }\n        }\n    };\n    /** @private */\n    Tooltip.prototype.fadeOut = function () {\n        var _this = this;\n        var tooltipElement = (this.isCanvas && !this.template) ? getElement(this.element.id + '_svg') :\n            getElement(this.element.id);\n        var tooltipDiv = getElement(this.element.id);\n        if (tooltipElement) {\n            var tooltipGroup_1 = tooltipElement.firstChild;\n            if (tooltipGroup_1.nodeType !== Node.ELEMENT_NODE) {\n                tooltipGroup_1 = tooltipElement.firstElementChild;\n            }\n            if (this.isCanvas && !this.template) {\n                tooltipGroup_1 = document.getElementById(this.element.id + '_group') ? document.getElementById(this.element.id + '_group') :\n                    tooltipGroup_1;\n            }\n            if (!tooltipGroup_1) {\n                return null;\n            }\n            var opacity_1 = parseFloat(tooltipGroup_1.getAttribute('opacity'));\n            opacity_1 = !isNullOrUndefined(opacity_1) ? opacity_1 : 1;\n            new Animation({}).animate(tooltipGroup_1, {\n                duration: 200,\n                progress: function (args) {\n                    //  tooltipGroup.removeAttribute('e-animate');\n                    _this.progressAnimation(tooltipGroup_1, opacity_1, (args.timeStamp / args.duration));\n                },\n                end: function () {\n                    _this.fadeOuted = true;\n                    _this.endAnimation(tooltipGroup_1);\n                    tooltipDiv.style.transition = '';\n                }\n            });\n        }\n    };\n    Tooltip.prototype.progressAnimation = function (tooltipGroup, opacity, timeStamp) {\n        tooltipGroup.style.animation = '';\n        tooltipGroup.setAttribute('opacity', (opacity - timeStamp).toString());\n    };\n    /*\n     * @hidden\n     */\n    Tooltip.prototype.endAnimation = function (tooltipGroup) {\n        tooltipGroup.setAttribute('opacity', '0');\n        if (this.template) {\n            tooltipGroup.style.display = 'none';\n        }\n        this.trigger('animationComplete', { tooltip: this });\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @private\n     */\n    Tooltip.prototype.getPersistData = function () {\n        var keyEntity = [];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Get component name\n     *\n     *  @private\n     */\n    Tooltip.prototype.getModuleName = function () {\n        return 'tooltip';\n    };\n    /**\n     * To destroy the accumulationcharts\n     *\n     * @private\n     */\n    Tooltip.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.element.classList.remove('e-tooltip');\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @returns {void}\n     * @private\n     */\n    Tooltip.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.blazorTemplate) {\n            resetBlazorTemplate(this.element.id + 'parent_template' + '_blazorTemplate');\n        }\n        this.isFirst = false;\n        this.render();\n    };\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"enable\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"shared\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"crosshair\", void 0);\n    __decorate([\n        Property(true)\n    ], Tooltip.prototype, \"enableShadow\", void 0);\n    __decorate([\n        Property(null)\n    ], Tooltip.prototype, \"fill\", void 0);\n    __decorate([\n        Property('')\n    ], Tooltip.prototype, \"header\", void 0);\n    __decorate([\n        Property(0.75)\n    ], Tooltip.prototype, \"opacity\", void 0);\n    __decorate([\n        Complex({ size: '13px', fontWeight: 'Normal', color: null, fontStyle: 'Normal', fontFamily: 'Segoe UI' }, TextStyle)\n    ], Tooltip.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property(null)\n    ], Tooltip.prototype, \"template\", void 0);\n    __decorate([\n        Property(true)\n    ], Tooltip.prototype, \"enableAnimation\", void 0);\n    __decorate([\n        Property(300)\n    ], Tooltip.prototype, \"duration\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"inverted\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"isNegative\", void 0);\n    __decorate([\n        Complex({ color: '#cccccc', width: 0.5 }, TooltipBorder)\n    ], Tooltip.prototype, \"border\", void 0);\n    __decorate([\n        Property([])\n    ], Tooltip.prototype, \"content\", void 0);\n    __decorate([\n        Property(10)\n    ], Tooltip.prototype, \"markerSize\", void 0);\n    __decorate([\n        Complex({ x: 0, y: 0 }, ToolLocation)\n    ], Tooltip.prototype, \"clipBounds\", void 0);\n    __decorate([\n        Property([])\n    ], Tooltip.prototype, \"palette\", void 0);\n    __decorate([\n        Property([])\n    ], Tooltip.prototype, \"shapes\", void 0);\n    __decorate([\n        Complex({ x: 0, y: 0 }, ToolLocation)\n    ], Tooltip.prototype, \"location\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"offset\", void 0);\n    __decorate([\n        Property(4)\n    ], Tooltip.prototype, \"rx\", void 0);\n    __decorate([\n        Property(4)\n    ], Tooltip.prototype, \"ry\", void 0);\n    __decorate([\n        Property(5)\n    ], Tooltip.prototype, \"marginX\", void 0);\n    __decorate([\n        Property(5)\n    ], Tooltip.prototype, \"marginY\", void 0);\n    __decorate([\n        Property(7)\n    ], Tooltip.prototype, \"arrowPadding\", void 0);\n    __decorate([\n        Property(null)\n    ], Tooltip.prototype, \"data\", void 0);\n    __decorate([\n        Property('Material')\n    ], Tooltip.prototype, \"theme\", void 0);\n    __decorate([\n        Complex({ x: 0, y: 0, width: 0, height: 0 }, AreaBounds)\n    ], Tooltip.prototype, \"areaBounds\", void 0);\n    __decorate([\n        Property(null)\n    ], Tooltip.prototype, \"availableSize\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"blazorTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"isCanvas\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"isTextWrap\", void 0);\n    __decorate([\n        Property(null)\n    ], Tooltip.prototype, \"tooltipPlacement\", void 0);\n    __decorate([\n        Property(null)\n    ], Tooltip.prototype, \"controlInstance\", void 0);\n    __decorate([\n        Property('')\n    ], Tooltip.prototype, \"controlName\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"tooltipRender\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"loaded\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"animationComplete\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"enableRTL\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"allowHighlight\", void 0);\n    Tooltip = __decorate([\n        NotifyPropertyChanges\n    ], Tooltip);\n    return Tooltip;\n}(Component));\nexport { Tooltip };\n"],"names":["getTooltipThemeColor","theme","style","tooltipFill","tooltipBoldLabel","tooltipLightLabel","tooltipHeaderLine","measureText","text","font","breakText","htmlObject","document","getElementById","createElement","id","body","appendChild","indexOf","textArray","split","i","length","replace","join","innerHTML","position","fontSize","size","fontWeight","fontStyle","fontFamily","visibility","top","left","whiteSpace","lineHeight","Size","clientWidth","clientHeight","withInAreaBounds","x","y","areaBounds","width","height","findDirection","rX","rY","rect","arrowLocation","arrowPadding","bottom","tipX","tipY","controlName","direction","startX","startY","concat","getElement","removeElement","element","remove","drawSymbol","location","shape","url","options","label","renderer","SvgRenderer","temp","calculateShapes","functionName","renderOption","setAttribute","path","locX","locY","merge","rx","ry","cx","cy","d","xValue","yValue","Math","cos","PI","sin","href","textElement","color","parent","renderOptions","fill","font-size","font-style","font-family","font-weight","text-anchor","anchor","transform","opacity","dominant-baseline","baseLine","createText","rootID","this","svgLink","rootId","prototype","getOptionValue","key","createSvg","isNullOrUndefined","svgObj","createElementNS","setElementAttributes","setSVGSize","getBoundingClientRect","toString","drawPath","drawLine","line","drawRectangle","rectangle","drawCircle","circle","drawPolyline","polyline","drawEllipse","ellipse","drawPolygon","polygon","drawImage","img","setAttributeNS","preserveAspectRatio","textContent","createTSpan","tSpan","createTitle","title","createDefs","createClipPath","clipPath","createForeignObject","foreignObject","createGroup","group","createPattern","pattern","createRadialGradient","colors","name","colorName","colorStop","newOptions","r","fx","fy","drawGradient","createLinearGradient","x1","y1","x2","y2","gradientType","defs","gradient","stop_1","cssText","drawClipPath","drawCircularClipPath","keys","Object","createCanvas","CanvasRenderer","canvasObj","ctx","getContext","setCanvasSize","setAttributes","lineWidth","dashArray","dashArrayString","setLineDash","parseInt","strokeStyle","save","beginPath","stroke","moveTo","lineTo","restore","canvasTranslate","canvasCtx","cornerRadius","translate","globalAlpha","drawCornerRadius","fillStyle","fillRect","arcTo","closePath","dataSplit","borderWidth","flag","parseFloat","innerR","q1","q2","quadraticCurveTo","c1","c2","c3","c4","bezierCurveTo","arc","radius","start","end","counterClockWise","undefined","transX","transY","dy","isTSpan","toLowerCase","textAlign","baseline","textBaseline","rotate","labelRotation","fillText","points","point","circumference","max","scaleX","scaleY","scale","imageObj","Image","src","myGradient","setGradientValues","newColorStop","slice","stopColor","addColorStop","values","map","updateCanvasAttributes","dataUrl","img_1","onload","clearRect","canvasClip","clip","canvasRestore","__extends","extendStatics","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","create","Rect","Side","right","isRight","isBottom","CustomizeOption","TextOption","_super","_this","call","PathOption","TooltipLocation","__decorate","decorators","target","desc","c","arguments","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","TextStyle","apply","Property","ChildProperty","TooltipBorder","AreaBounds","ToolLocation","Tooltip","preRender","allowServerDataBinding","initPrivateVariable","isCanvas","removeSVG","createTooltipElement","themeStyle","formattedText","padding","highlightPadding","areaMargin","isFirst","markerPoint","svgObject","templateObject","blazorTemplate","resetBlazorTemplate","parentNode","render","fadeOuted","template","updateTemplateFn","createTemplate","renderText","argsData","cancel","tooltip","trigger","markerSide","renderTooltipElement","drawMarker","markerSize","textElements","shared","enableRTL","groupElement","pathElement","stroke-width","border","shapes","shapeOption","count","markerGroup","elementSize","marginX","_i","_a","palette","header","tooltipDiv","tipLocation","isTop","isLeft","marginY","content","sharedTooltipLocation","tooltipLocation","inverted","clipBounds","allowHighlight","wrapPadding","wrapHeader","isWrap","wrappedText","headerSize","textStyle","pathElement_1","pointRect","enableAnimation","crosshair","updateDiv","animateTooltipDiv","tooltipPlacement","enableShadow","shadowId","Browser","isIE","shadow","defElement","borderColor","changeText","revert","findFormattedText","trim","isRender","lines","tspanElement","textCollection","tspanOption","subWidth","extend","tspanStyle","getAttribute","leftSpace","rightSpace","headerContent","isBoldTag","headerWidth","isLeftSpace","isRightSpace","headerSpace","isRow","isColumn","subStringLength","markerPadding","labelColor","contentWidth","parentElement","withoutHeader","isHeader","k","pointsLength","isTextWrap","round","match","RegExp","push","len","reverse","j","len_1","isRTLText","test","getTooltipTextContent","childNodes","width_1","renderContentRTL","contentWidthIndex","tooltipText","characterCollection","isRtlText","isValidHTMLElement","tooltipContent","firstElement","firstElementChild","elem","templateElement","templateFn","data","controlInstance","isBlazor","tooltipRect","tooltipRendered","rect1","thisObject_1","tooltipRect1","bind","updateBlazorTemplate","bounds","getCurrentPosition","symbolLocation","clipX","clipY","markerHeight","offset","boundsX","boundsY","outOfBounds","min","currenDiff","Animation","animate","duration","progress","args","timeStamp","animation","transition","model","querySelectorAll","templateComplier","querySelector","e","fadeOut","tooltipElement","tooltipGroup_1","firstChild","nodeType","Node","ELEMENT_NODE","opacity_1","progressAnimation","endAnimation","tooltipGroup","display","getPersistData","addOnPersist","getModuleName","destroy","classList","onPropertyChanged","newProp","oldProp","Complex","Event","NotifyPropertyChanges","Component"],"mappings":"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"}